{"version":3,"sources":["webpack://vue-admin2-[name]/./node_modules/marked/lib/marked.js","webpack://vue-admin2-[name]/./node_modules/codemirror/addon/edit/continuelist.js","webpack://vue-admin2-[name]/./node_modules/codemirror/mode/gfm/gfm.js","webpack://vue-admin2-[name]/./node_modules/typo-js/typo.js","webpack://vue-admin2-[name]/./node_modules/codemirror/addon/display/fullscreen.js","webpack://vue-admin2-[name]/./src/view/components/markdown/markdown.vue?5caf","webpack://vue-admin2-[name]/./src/components/markdown/markdown.vue?fed4","webpack://vue-admin2-[name]/src/components/markdown/markdown.vue","webpack://vue-admin2-[name]/./src/components/markdown/markdown.vue?ab5a","webpack://vue-admin2-[name]/./src/components/markdown/markdown.vue","webpack://vue-admin2-[name]/./src/components/markdown/index.js","webpack://vue-admin2-[name]/src/view/components/markdown/markdown.vue","webpack://vue-admin2-[name]/./src/view/components/markdown/markdown.vue?9d9b","webpack://vue-admin2-[name]/./src/view/components/markdown/markdown.vue","webpack://vue-admin2-[name]/./src/components/markdown/markdown.vue?123d","webpack://vue-admin2-[name]/./node_modules/codemirror/mode/markdown/markdown.js","webpack://vue-admin2-[name]/./node_modules/codemirror/addon/selection/mark-selection.js","webpack://vue-admin2-[name]/./node_modules/codemirror/addon/mode/overlay.js","webpack://vue-admin2-[name]/./node_modules/simplemde/src/js/codemirror/tablist.js","webpack://vue-admin2-[name]/./node_modules/codemirror/mode/xml/xml.js","webpack://vue-admin2-[name]/./node_modules/codemirror/addon/display/placeholder.js","webpack://vue-admin2-[name]/./node_modules/codemirror-spell-checker/src/js/spell-checker.js","webpack://vue-admin2-[name]/./node_modules/simplemde/src/js/simplemde.js","webpack://vue-admin2-[name]/./node_modules/codemirror/mode/meta.js"],"names":["global","factory","module","exports","this","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_unsupportedIterableToArray","o","minLen","_arrayLikeToArray","n","toString","call","slice","constructor","name","Array","from","test","arr","len","arr2","_createForOfIteratorHelperLoose","allowArrayLike","it","Symbol","iterator","isArray","done","value","TypeError","next","bind","createCommonjsModule","fn","defaults","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","escape","html","encode","replace","unescapeTest","unescape","_","toLowerCase","charAt","String","fromCharCode","parseInt","substring","caret","edit","regex","opt","source","obj","val","getRegex","RegExp","nonWordAndColonTest","originIndependentUrl","cleanUrl","base","href","prot","decodeURIComponent","e","indexOf","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","rtrim","relativeBase","noopTest","exec","merge","arguments","hasOwnProperty","splitCells","tableRow","count","row","match","offset","str","escaped","curr","cells","split","splice","push","trim","c","invert","l","suffLen","currChar","substr","findClosingBracket","b","level","checkSanitizeDeprecation","console","warn","helpers","defaults$1","rtrim$1","splitCells$1","_escape","findClosingBracket$1","outputLink","cap","link","raw","title","text","type","indentCodeCompensation","matchIndentToCode","indentToCode","map","node","matchIndentInNode","indentInNode","join","Tokenizer_1","Tokenizer","options","_proto","space","src","rules","block","newline","code","tokens","lastToken","trimRight","codeBlockStyle","fences","lang","heading","depth","nptable","item","header","align","hr","blockquote","list","addBack","loose","istask","ischecked","bull","isordered","isparen","ordered","start","items","itemMatch","bullet","undefined","task","checked","pre","def","tag","table","lheading","paragraph","inline","inLink","inRawBlock","lastParenIndex","linkLen","token","_escapes","reflink","links","nolink","strong","maskedSrc","prevChar","punctuation","endReg","endAst","endUnd","lastIndex","middle","index","em","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","startsWith","endsWith","br","del","autolink","url","prevCapZero","_backpedal","inlineText","noopTest$1","edit$1","merge$1","_paragraph","_label","_title","_tag","_comment","normal","reflinkSearch","_punctuation","_blockSkip","_overlapSkip","blockSkip","overlapSkip","_scheme","_email","_attribute","_href","_extended_email","defaults$2","block$1","inline$1","out","charCodeAt","Math","random","Lexer_1","Lexer","create","lex","lexer","lexInline","inlineTokens","blockTokens","top","errMsg","error","Error","j","k","l2","keys","includes","lastIndexOf","repeat","get","defaults$3","cleanUrl$1","escape$1","Renderer_1","Renderer","_code","infostring","quote","_html","slugger","slug","body","startatt","listitem","checkbox","tablerow","content","tablecell","flags","image","_text","TextRenderer_1","TextRenderer","Slugger_1","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","defaults$4","unescape$1","Parser_1","Parser","textRenderer","parse","parser","parseInline","l3","cell","itemBody","unshift","merge$2","checkSanitizeDeprecation$1","escape$2","defaults$5","marked","callback","err","pending","setTimeout","_tokens","message","setOptions","use","extension","opts","_loop","prop","prevRenderer","_len","args","_key","ret","apply","_loop2","prevTokenizer","_len2","_key2","_step","_iterator","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","marked_1","mod","CodeMirror","listRE","emptyListRE","unorderedListRE","incrementRemainingMarkdownListNumbers","cm","pos","startLine","line","lookAhead","skipCount","startItem","getLine","startIndent","nextLineNumber","nextLine","nextItem","nextIndent","newNumber","nextNumber","itemNumber","isNaN","replaceRange","commands","newlineAndIndentContinueMarkdownList","getOption","Pass","ranges","listSelections","replacements","head","eolState","getStateAfter","inner","innerMode","getMode","mode","execCommand","state","inList","inQuote","cursorBeforeBullet","empty","endOfQuote","endOfList","indent","after","numbered","replaceSelections","urlRE","defineMode","config","modeConfig","codeDepth","blankLine","gfmOverlay","startState","codeBlock","ateSpace","copyState","s","stream","combineTokens","skipToEnd","sol","peek","before","eatWhile","difference","eatSpace","gitHubSpice","string","markdownConfig","taskLists","strikethrough","emoji","attr","overlayMode","defineMIME","Typo","dictionary","affData","wordsData","settings","dictionaryTable","compoundRules","compoundRuleCodes","replacementTable","memoized","loaded","path","_jlen","self","readDataFile","setFunc","response","_readFile","asyncLoad","then","data","setAffData","setup","setWordsData","_parseAFF","rule","ONLYINCOMPOUND","_parseDIC","ruleText","expressionText","character","loadedCallback","window","chrome","dictionaryPath","getURL","__dirname","load","charset","async","XMLHttpRequest","promise","req","open","Promise","resolve","reject","onload","status","responseText","statusText","onerror","overrideMimeType","send","fs","existsSync","readFileSync","log","subline","numEntries","lineParts","_removeAffixComments","lines","definitionParts","ruleType","ruleCode","combineable","entries","charactersToRemove","additionParts","charactersToAdd","continuationClasses","parseRuleCodes","regexToMatch","entry","add","remove","_removeDicComments","addWord","word","parts","ruleCodesArray","NEEDAFFIX","newWords","_applyRule","ii","_iilen","newWord","combineCode","combineRule","otherNewWords","iii","_iiilen","otherNewWord","textCodes","FLAG","continuationRule","concat","check","aWord","trimmedWord","checkExact","toUpperCase","capitalizedWord","hasFlag","lowercaseWord","ruleCodes","COMPOUNDMIN","flag","wordFlags","alphabet","suggest","limit","memoizedLimit","replacementEntry","correctedWord","edits1","words","known_only","_edit","rv","correct","ed1","ed2","weighted_corrections","ed1word","sorted_corrections","sorter","a","a_val","b_val","localeCompare","sort","reverse","capitalization_scheme","working_limit","min","setFullscreen","wrap","getWrapperElement","fullScreenRestore","scrollTop","pageYOffset","scrollLeft","pageXOffset","width","style","height","className","document","documentElement","overflow","refresh","setNormal","info","scrollTo","defineOption","old","Init","render","_vm","_h","$createElement","_c","_self","model","$$v","expression","staticRenderFns","staticClass","ref","default","localCache","Boolean","editor","methods","addEvents","codemirror","on","mounted","element","$refs","component","MarkdownEditor","components","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","found","mime","mimes","highlightFormatting","maxBlockquoteDepth","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","list1","list2","list3","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","tokenType","hrRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","expandedTab","switchInline","f","switchBlock","lineIsEmpty","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","context","tokenize","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","column","indentation","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","pop","allowsInlineContinuation","fencedCodeEnd","isHr","getType","eat","setext","listType","current","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","matchCh","previousFormatting","t","formattingEscape","end","atts","backUp","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","textAfter","blockCommentStart","blockCommentEnd","closeBrackets","fold","onCursorActivity","markedSelection","operation","update","onChange","clear","prev","markedSelectionStyle","reset","off","CHUNK_SIZE","Pos","cmp","cmpPos","coverRange","to","addAt","array","cls","endLine","atEnd","mark","markText","somethingSelected","getCursor","coverStart","find","coverEnd","shift","overlay","combine","basePos","baseCur","overlayPos","overlayCur","streamSeen","electricChars","baseToken","overlayToken","tabAndIndentMarkdownList","indentWithTabs","spaces","tabSize","replaceSelection","shiftTabAndUnindentMarkdownList","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","indentUnit","inText","chain","ok","inBlock","doctype","inTag","baseState","tagName","inAttribute","stringStartCol","closure","eol","isInAttribute","terminator","Context","startOfLine","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","electricInput","configuration","helperType","skipAttribute","xmlCurrentTag","close","xmlCurrentContext","cx","mimeModes","clearPlaceholder","placeholder","parentNode","removeChild","setPlaceholder","elt","createElement","cssText","direction","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","onComposition","input","getInputField","nodeName","lineCount","querySelector","textContent","onBlur","isEmpty","wrapper","placeholderCompose","hasFocus","CodeMirrorSpellChecker","codeMirrorInstance","aff_loading","xhr_aff","readyState","aff_data","num_loaded","typo","dic_data","platform","dic_loading","xhr_dic","rx_word","backdrop","isMac","navigator","bindings","toggleBold","toggleItalic","drawLink","toggleHeadingSmaller","toggleHeadingBigger","drawImage","toggleBlockquote","toggleOrderedList","toggleUnorderedList","toggleCodeBlock","togglePreview","toggleStrikethrough","toggleHeading1","toggleHeading2","toggleHeading3","cleanBlock","drawTable","drawHorizontalRule","undo","redo","toggleSideBySide","toggleFullScreen","shortcuts","getBindingName","isMobile","userAgent","vendor","opera","fixShortcut","createIcon","enableTooltips","el","createTootlip","action","tabIndex","createSep","innerHTML","actionName","tooltip","getState","stat","getTokenAt","types","bold","italic","saved_overflow","setOption","previousSibling","toolbarButton","toolbarElements","fullscreen","sidebyside","nextSibling","_toggleBlock","blockStyles","fenceCharsToInsert","fencing_line","token_state","code_type","line_num","firstTok","lastTok","getLineHandle","fencedChars","insertFencingAtSelection","cur_start","cur_end","start_line_sel","end_line_sel","sel_multi","repl_start","repl_end","_replaceSelection","setSelection","block_start","block_end","tok","is_code","focus","start_text","start_line","end_text","end_line","fencedTok","fence_chars","search_from","next_line","next_line_last_tok","next_line_indented","indentLine","no_sel_and_starting_of_line","_toggleLine","_toggleHeading","_cleanBlock","promptURLs","prompt","promptTexts","insertTexts","horizontalRule","preview","useSideBySideListener","previewNormal","lastChild","toolbar","toolbar_div","sideBySideRenderingFunction","previewRender","active","startEnd","startPoint","endPoint","getSelection","size","currHeadingLevel","search","repl","start_chars","end_chars","_mergeProperties","property","extend","wordCount","pattern","m","toolbarBuiltInButtons","SimpleMDE","parent","autoDownloadFA","autoDownloadFontAwesome","styleSheets","rel","getElementsByTagName","showIcons","plainText","markdown","parsingConfig","autosave","unique_id","uniqueId","initialValue","foundSavedValue","isLocalStorageAvailable","localStorage","setItem","removeItem","markedOptions","renderingConfig","singleLineBreaks","codeSyntaxHighlighting","hljs","highlightAuto","_rendered","keyMaps","addEventListener","event","keyCode","spellChecker","fromTextArea","theme","lineNumbers","autofocus","extraKeys","lineWrapping","allowDropFileTypes","getAttribute","styleSelectedText","forceSync","save","gui","createToolbar","statusbar","createStatusbar","enabled","sideBySide","createSideBySide","temp_cm","simplemde","form","getItem","setValue","getElementById","d","Date","hh","getHours","getMinutes","dd","h","autosaveTimeoutId","delay","clearAutosavedValue","cScroll","pScroll","v","getScrollInfo","clientHeight","ratio","parseFloat","move","scrollHeight","onscroll","bar","toolbarData","toolbarGuideIcon","hideIcons","nonSeparatorIconsFollow","x","toolbarTips","onclick","preventDefault","cmWrapper","onUpdate","defaultValue","getValue","setAttribute","getDoc","isPreviewActive","isSideBySideActive","isFullscreenActive","toTextArea","clearTimeout","modeInfo","ext","file","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot"],"mappings":"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","file":"static/js/chunk-2985c7b1.a35eb127.js","sourcesContent":["/**\n * marked - a markdown parser\n * Copyright (c) 2011-2020, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.marked = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n        return function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    it = o[Symbol.iterator]();\n    return it.next.bind(it);\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var defaults = createCommonjsModule(function (module) {\n    function getDefaults() {\n      return {\n        baseUrl: null,\n        breaks: false,\n        gfm: true,\n        headerIds: true,\n        headerPrefix: '',\n        highlight: null,\n        langPrefix: 'language-',\n        mangle: true,\n        pedantic: false,\n        renderer: null,\n        sanitize: false,\n        sanitizer: null,\n        silent: false,\n        smartLists: false,\n        smartypants: false,\n        tokenizer: null,\n        walkTokens: null,\n        xhtml: false\n      };\n    }\n\n    function changeDefaults(newDefaults) {\n      module.exports.defaults = newDefaults;\n    }\n\n    module.exports = {\n      defaults: getDefaults(),\n      getDefaults: getDefaults,\n      changeDefaults: changeDefaults\n    };\n  });\n  var defaults_1 = defaults.defaults;\n  var defaults_2 = defaults.getDefaults;\n  var defaults_3 = defaults.changeDefaults;\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  var caret = /(^|[^\\[])\\^/g;\n\n  function edit(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var noopTest = {\n    exec: function noopTest() {}\n  };\n\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, l - suffLen);\n  }\n\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  }\n\n  var helpers = {\n    escape: escape,\n    unescape: unescape,\n    edit: edit,\n    cleanUrl: cleanUrl,\n    resolveUrl: resolveUrl,\n    noopTest: noopTest,\n    merge: merge,\n    splitCells: splitCells,\n    rtrim: rtrim,\n    findClosingBracket: findClosingBracket,\n    checkSanitizeDeprecation: checkSanitizeDeprecation\n  };\n\n  var defaults$1 = defaults.defaults;\n  var rtrim$1 = helpers.rtrim,\n      splitCells$1 = helpers.splitCells,\n      _escape = helpers.escape,\n      findClosingBracket$1 = helpers.findClosingBracket;\n\n  function outputLink(cap, link, raw) {\n    var href = link.href;\n    var title = link.title ? _escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      return {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text\n      };\n    } else {\n      return {\n        type: 'image',\n        raw: raw,\n        href: href,\n        title: title,\n        text: _escape(text)\n      };\n    }\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer_1 = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || defaults$1;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap) {\n        if (cap[0].length > 1) {\n          return {\n            type: 'space',\n            raw: cap[0]\n          };\n        }\n\n        return {\n          raw: '\\n'\n        };\n      }\n    };\n\n    _proto.code = function code(src, tokens) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && lastToken.type === 'paragraph') {\n          return {\n            raw: cap[0],\n            text: cap[0].trimRight()\n          };\n        }\n\n        var text = cap[0].replace(/^ {4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim$1(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: cap[2]\n        };\n      }\n    };\n\n    _proto.nptable = function nptable(src) {\n      var cap = this.rules.block.nptable.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n          raw: cap[0]\n        };\n\n        if (item.header.length === item.align.length) {\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i], item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *> ?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var bull = cap[2];\n        var isordered = bull.length > 1;\n        var isparen = bull[bull.length - 1] === ')';\n        var list = {\n          type: 'list',\n          raw: raw,\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        }; // Get each top-level item.\n\n        var itemMatch = cap[0].match(this.rules.block.item);\n        var next = false,\n            item,\n            space,\n            b,\n            addBack,\n            loose,\n            istask,\n            ischecked;\n        var l = itemMatch.length;\n\n        for (var i = 0; i < l; i++) {\n          item = itemMatch[i];\n          raw = item; // Remove the list item's bullet\n          // so it is seen as the next token.\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+[.)]) */, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n\n          if (i !== l - 1) {\n            b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];\n\n            if (isordered ? b.length === 1 || !isparen && b[b.length - 1] === ')' : b.length > 1 || this.options.smartLists && b !== bull) {\n              addBack = itemMatch.slice(i + 1).join('\\n');\n              list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n              i = l - 1;\n            }\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            list.loose = true;\n          } // Check for task list items\n\n\n          istask = /^\\[[ xX]\\] /.test(item);\n          ischecked = undefined;\n\n          if (istask) {\n            ischecked = item[1] !== ' ';\n            item = item.replace(/^\\[[ xX]\\] +/, '');\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: istask,\n            checked: ischecked,\n            loose: loose,\n            text: item\n          });\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        return {\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        return {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        };\n      }\n    };\n\n    _proto.text = function text(src, tokens) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          return {\n            raw: cap[0],\n            text: cap[0]\n          };\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n    };\n\n    _proto.escape = function escape(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: _escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src, inLink, inRawBlock) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!inLink && /^<a /i.test(cap[0])) {\n          inLink = true;\n        } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n          inLink = false;\n        }\n\n        if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = true;\n        } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: inLink,\n          inRawBlock: inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var lastParenIndex = findClosingBracket$1(cap[2], '()');\n\n        if (lastParenIndex > -1) {\n          var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          var linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          } else {\n            title = '';\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n        var token = outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0]);\n        return token;\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        var token = outputLink(cap, link, cap[0]);\n        return token;\n      }\n    };\n\n    _proto.strong = function strong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.strong.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '**' ? this.rules.inline.strong.endAst : this.rules.inline.strong.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.strong.middle.exec(maskedSrc.slice(0, match.index + 3));\n\n          if (cap) {\n            return {\n              type: 'strong',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(2, cap[0].length - 2)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.em = function em(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.em.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '*' ? this.rules.inline.em.endAst : this.rules.inline.em.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.em.middle.exec(maskedSrc.slice(0, match.index + 2));\n\n          if (cap) {\n            return {\n              type: 'em',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(1, cap[0].length - 1)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = text.startsWith(' ') && text.endsWith(' ');\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = _escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = _escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = _escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];\n        } else {\n          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  var noopTest$1 = helpers.noopTest,\n      edit$1 = helpers.edit,\n      merge$1 = helpers.merge;\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^\\n+/,\n    code: /^( {4}[^\\n]+\\n*)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noopTest$1,\n    table: noopTest$1,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\n  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\n  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge$1({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge$1({}, block.normal, {\n    nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n    // Cells\n    table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' {0,3}\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge$1({}, block.normal, {\n    html: edit$1('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n    fences: noopTest$1,\n    // fences not supported\n    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest$1,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    strong: {\n      start: /^(?:(\\*\\*(?=[*punctuation]))|\\*\\*)(?![\\s])|__/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*\\*$|^__(?![\\s])((?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?)__$/,\n      endAst: /[^punctuation\\s]\\*\\*(?!\\*)|[punctuation]\\*\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]__(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    em: {\n      start: /^(?:(\\*(?=[punctuation]))|\\*)(?![*\\s])|_/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*$|^_(?![_\\s])(?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?_$/,\n      endAst: /[^punctuation\\s]\\*(?!\\*)|[punctuation]\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]_(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest$1,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\s*punctuation])/\n  }; // list of punctuation marks from common mark spec\n  // without * and _ to workaround cases with double emphasis\n\n  inline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline.punctuation = edit$1(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline._blockSkip = '\\\\[[^\\\\]]*?\\\\]\\\\([^\\\\)]*?\\\\)|`[^`]*?`|<[^>]*?>';\n  inline._overlapSkip = '__[^_]*?__|\\\\*\\\\*\\\\[^\\\\*\\\\]*?\\\\*\\\\*';\n  inline._comment = edit$1(block._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline.em.start = edit$1(inline.em.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.middle = edit$1(inline.em.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.em.endAst = edit$1(inline.em.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.endUnd = edit$1(inline.em.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.start = edit$1(inline.strong.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.middle = edit$1(inline.strong.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.strong.endAst = edit$1(inline.strong.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.endUnd = edit$1(inline.strong.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.blockSkip = edit$1(inline._blockSkip, 'g').getRegex();\n  inline.overlapSkip = edit$1(inline._overlapSkip, 'g').getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit$1(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();\n  inline.reflinkSearch = edit$1(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge$1({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge$1({}, inline.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit$1(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit$1(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge$1({}, inline.normal, {\n    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n  });\n  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge$1({}, inline.gfm, {\n    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit$1(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  var rules = {\n    block: block,\n    inline: inline\n  };\n\n  var defaults$2 = defaults.defaults;\n  var block$1 = rules.block,\n      inline$1 = rules.inline;\n  /**\n   * smartypants text replacement\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer_1 = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || defaults$2;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      var rules = {\n        block: block$1.normal,\n        inline: inline$1.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block$1.pedantic;\n        rules.inline = inline$1.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block$1.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline$1.breaks;\n        } else {\n          rules.inline = inline$1.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n      this.blockTokens(src, this.tokens, true);\n      this.inline(this.tokens);\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens, top) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (top === void 0) {\n        top = true;\n      }\n\n      src = src.replace(/^ +$/gm, '');\n      var token, i, l, lastToken;\n\n      while (src) {\n        // newline\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // table no leading pipe (gfm)\n\n\n        if (token = this.tokenizer.nptable(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.blockTokens(token.text, [], top);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          l = token.items.length;\n\n          for (i = 0; i < l; i++) {\n            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n          }\n\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (top && (token = this.tokenizer.def(src))) {\n          src = src.substring(token.raw.length);\n\n          if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n\n\n        if (top && (token = this.tokenizer.paragraph(src))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _proto.inline = function inline(tokens) {\n      var i, j, k, l2, row, token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'paragraph':\n          case 'text':\n          case 'heading':\n            {\n              token.tokens = [];\n              this.inlineTokens(token.text, token.tokens);\n              break;\n            }\n\n          case 'table':\n            {\n              token.tokens = {\n                header: [],\n                cells: []\n              }; // header\n\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                token.tokens.header[j] = [];\n                this.inlineTokens(token.header[j], token.tokens.header[j]);\n              } // cells\n\n\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.cells[j];\n                token.tokens.cells[j] = [];\n\n                for (k = 0; k < row.length; k++) {\n                  token.tokens.cells[j][k] = [];\n                  this.inlineTokens(row[k], token.tokens.cells[j][k]);\n                }\n              }\n\n              break;\n            }\n\n          case 'blockquote':\n            {\n              this.inline(token.tokens);\n              break;\n            }\n\n          case 'list':\n            {\n              l2 = token.items.length;\n\n              for (j = 0; j < l2; j++) {\n                this.inline(token.items[j].tokens);\n              }\n\n              break;\n            }\n        }\n      }\n\n      return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock, prevChar) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (inLink === void 0) {\n        inLink = false;\n      }\n\n      if (inRawBlock === void 0) {\n        inRawBlock = false;\n      }\n\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var token; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      }\n\n      while (src) {\n        // escape\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n          src = src.substring(token.raw.length);\n          inLink = token.inLink;\n          inRawBlock = token.inRawBlock;\n          tokens.push(token);\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // strong\n\n\n        if (token = this.tokenizer.strong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // em\n\n\n        if (token = this.tokenizer.em(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n          src = src.substring(token.raw.length);\n          prevChar = token.raw.slice(-1);\n          tokens.push(token);\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block$1,\n          inline: inline$1\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  var defaults$3 = defaults.defaults;\n  var cleanUrl$1 = helpers.cleanUrl,\n      escape$1 = helpers.escape;\n  /**\n   * Renderer\n   */\n\n  var Renderer_1 = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || defaults$3;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape$1(lang, true) + '\">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n    };\n\n    _proto.blockquote = function blockquote(quote) {\n      return '<blockquote>\\n' + quote + '</blockquote>\\n';\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    };\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n      } // ignore IDs\n\n\n      return '<h' + level + '>' + text + '</h' + level + '>\\n';\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    };\n\n    _proto.listitem = function listitem(text) {\n      return '<li>' + text + '</li>\\n';\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    };\n\n    _proto.paragraph = function paragraph(text) {\n      return '<p>' + text + '</p>\\n';\n    };\n\n    _proto.table = function table(header, body) {\n      if (body) body = '<tbody>' + body + '</tbody>';\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    };\n\n    _proto.tablerow = function tablerow(content) {\n      return '<tr>\\n' + content + '</tr>\\n';\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n      return tag + content + '</' + type + '>\\n';\n    } // span level renderer\n    ;\n\n    _proto.strong = function strong(text) {\n      return '<strong>' + text + '</strong>';\n    };\n\n    _proto.em = function em(text) {\n      return '<em>' + text + '</em>';\n    };\n\n    _proto.codespan = function codespan(text) {\n      return '<code>' + text + '</code>';\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    };\n\n    _proto.del = function del(text) {\n      return '<del>' + text + '</del>';\n    };\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape$1(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    };\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n  var TextRenderer_1 = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n  var Slugger_1 = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} options\n     * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  var defaults$4 = defaults.defaults;\n  var unescape$1 = helpers.unescape;\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser_1 = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || defaults$4;\n      this.options.renderer = this.options.renderer || new Renderer_1();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer_1();\n      this.slugger = new Slugger_1();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.tokens.cells[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  var merge$2 = helpers.merge,\n      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,\n      escape$2 = helpers.escape;\n  var getDefaults = defaults.getDefaults,\n      changeDefaults = defaults.changeDefaults,\n      defaults$5 = defaults.defaults;\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer_1.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            out = Parser_1.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer_1.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge$2(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = defaults$5;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function (extension) {\n    var opts = merge$2({}, extension);\n\n    if (extension.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer_1();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop];\n\n          renderer[prop] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var ret = extension.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (extension.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop];\n\n          tokenizer[prop] = function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            var ret = extension.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    }\n\n    if (extension.walkTokens) {\n      var walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        extension.walkTokens(token);\n\n        if (walkTokens) {\n          walkTokens(token);\n        }\n      };\n    }\n\n    marked.setOptions(opts);\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      var token = _step.value;\n      callback(token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    }\n  };\n  /**\n   * Parse Inline\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    try {\n      var tokens = Lexer_1.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser_1;\n  marked.parser = Parser_1.parse;\n  marked.Renderer = Renderer_1;\n  marked.TextRenderer = TextRenderer_1;\n  marked.Lexer = Lexer_1;\n  marked.lexer = Lexer_1.lex;\n  marked.Tokenizer = Tokenizer_1;\n  marked.Slugger = Slugger_1;\n  marked.parse = marked;\n  var marked_1 = marked;\n\n  return marked_1;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var listRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,\n      emptyListRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,\n      unorderedListRE = /[*+-]\\s/;\n\n  CodeMirror.commands.newlineAndIndentContinueMarkdownList = function(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(), replacements = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].head;\n\n      // If we're not in Markdown mode, fall back to normal newlineAndIndent\n      var eolState = cm.getStateAfter(pos.line);\n      var inner = CodeMirror.innerMode(cm.getMode(), eolState);\n      if (inner.mode.name !== \"markdown\") {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      } else {\n        eolState = inner.state;\n      }\n\n      var inList = eolState.list !== false;\n      var inQuote = eolState.quote !== 0;\n\n      var line = cm.getLine(pos.line), match = listRE.exec(line);\n      var cursorBeforeBullet = /^\\s*$/.test(line.slice(0, pos.ch));\n      if (!ranges[i].empty() || (!inList && !inQuote) || !match || cursorBeforeBullet) {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      }\n      if (emptyListRE.test(line)) {\n        var endOfQuote = inQuote && />\\s*$/.test(line)\n        var endOfList = !/>\\s*$/.test(line)\n        if (endOfQuote || endOfList) cm.replaceRange(\"\", {\n          line: pos.line, ch: 0\n        }, {\n          line: pos.line, ch: pos.ch + 1\n        });\n        replacements[i] = \"\\n\";\n      } else {\n        var indent = match[1], after = match[5];\n        var numbered = !(unorderedListRE.test(match[2]) || match[2].indexOf(\">\") >= 0);\n        var bullet = numbered ? (parseInt(match[3], 10) + 1) + match[4] : match[2].replace(\"x\", \" \");\n        replacements[i] = \"\\n\" + indent + bullet + after;\n\n        if (numbered) incrementRemainingMarkdownListNumbers(cm, pos);\n      }\n    }\n\n    cm.replaceSelections(replacements);\n  };\n\n  // Auto-updating Markdown list numbers when a new item is added to the\n  // middle of a list\n  function incrementRemainingMarkdownListNumbers(cm, pos) {\n    var startLine = pos.line, lookAhead = 0, skipCount = 0;\n    var startItem = listRE.exec(cm.getLine(startLine)), startIndent = startItem[1];\n\n    do {\n      lookAhead += 1;\n      var nextLineNumber = startLine + lookAhead;\n      var nextLine = cm.getLine(nextLineNumber), nextItem = listRE.exec(nextLine);\n\n      if (nextItem) {\n        var nextIndent = nextItem[1];\n        var newNumber = (parseInt(startItem[3], 10) + lookAhead - skipCount);\n        var nextNumber = (parseInt(nextItem[3], 10)), itemNumber = nextNumber;\n\n        if (startIndent === nextIndent && !isNaN(nextNumber)) {\n          if (newNumber === nextNumber) itemNumber = nextNumber + 1;\n          if (newNumber > nextNumber) itemNumber = newNumber + 1;\n          cm.replaceRange(\n            nextLine.replace(listRE, nextIndent + itemNumber + nextItem[4] + nextItem[5]),\n          {\n            line: nextLineNumber, ch: 0\n          }, {\n            line: nextLineNumber, ch: nextLine.length\n          });\n        } else {\n          if (startIndent.length > nextIndent.length) return;\n          // This doesn't run if the next line immediatley indents, as it is\n          // not clear of the users intention (new indented item or same level)\n          if ((startIndent.length < nextIndent.length) && (lookAhead === 1)) return;\n          skipCount += 1;\n        }\n      }\n    } while (nextItem);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../markdown/markdown\"), require(\"../../addon/mode/overlay\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../markdown/markdown\", \"../../addon/mode/overlay\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar urlRE = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\\.beep|\\.lwz|\\.xpc|\\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\\.beeps?|xmpp|xri|ymsgr|z39\\.50[rs]?):(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`*!()\\[\\]{};:'\".,<>?«»“”‘’]))/i\n\nCodeMirror.defineMode(\"gfm\", function(config, modeConfig) {\n  var codeDepth = 0;\n  function blankLine(state) {\n    state.code = false;\n    return null;\n  }\n  var gfmOverlay = {\n    startState: function() {\n      return {\n        code: false,\n        codeBlock: false,\n        ateSpace: false\n      };\n    },\n    copyState: function(s) {\n      return {\n        code: s.code,\n        codeBlock: s.codeBlock,\n        ateSpace: s.ateSpace\n      };\n    },\n    token: function(stream, state) {\n      state.combineTokens = null;\n\n      // Hack to prevent formatting override inside code blocks (block and inline)\n      if (state.codeBlock) {\n        if (stream.match(/^```+/)) {\n          state.codeBlock = false;\n          return null;\n        }\n        stream.skipToEnd();\n        return null;\n      }\n      if (stream.sol()) {\n        state.code = false;\n      }\n      if (stream.sol() && stream.match(/^```+/)) {\n        stream.skipToEnd();\n        state.codeBlock = true;\n        return null;\n      }\n      // If this block is changed, it may need to be updated in Markdown mode\n      if (stream.peek() === '`') {\n        stream.next();\n        var before = stream.pos;\n        stream.eatWhile('`');\n        var difference = 1 + stream.pos - before;\n        if (!state.code) {\n          codeDepth = difference;\n          state.code = true;\n        } else {\n          if (difference === codeDepth) { // Must be exact\n            state.code = false;\n          }\n        }\n        return null;\n      } else if (state.code) {\n        stream.next();\n        return null;\n      }\n      // Check if space. If so, links can be formatted later on\n      if (stream.eatSpace()) {\n        state.ateSpace = true;\n        return null;\n      }\n      if (stream.sol() || state.ateSpace) {\n        state.ateSpace = false;\n        if (modeConfig.gitHubSpice !== false) {\n          if(stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+@)?(?=.{0,6}\\d)(?:[a-f0-9]{7,40}\\b)/)) {\n            // User/Project@SHA\n            // User@SHA\n            // SHA\n            state.combineTokens = true;\n            return \"link\";\n          } else if (stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+)?#[0-9]+\\b/)) {\n            // User/Project#Num\n            // User#Num\n            // #Num\n            state.combineTokens = true;\n            return \"link\";\n          }\n        }\n      }\n      if (stream.match(urlRE) &&\n          stream.string.slice(stream.start - 2, stream.start) != \"](\" &&\n          (stream.start == 0 || /\\W/.test(stream.string.charAt(stream.start - 1)))) {\n        // URLs\n        // Taken from http://daringfireball.net/2010/07/improved_regex_for_matching_urls\n        // And then (issue #1160) simplified to make it not crash the Chrome Regexp engine\n        // And then limited url schemes to the CommonMark list, so foo:bar isn't matched as a URL\n        state.combineTokens = true;\n        return \"link\";\n      }\n      stream.next();\n      return null;\n    },\n    blankLine: blankLine\n  };\n\n  var markdownConfig = {\n    taskLists: true,\n    strikethrough: true,\n    emoji: true\n  };\n  for (var attr in modeConfig) {\n    markdownConfig[attr] = modeConfig[attr];\n  }\n  markdownConfig.name = \"markdown\";\n  return CodeMirror.overlayMode(CodeMirror.getMode(config, markdownConfig), gfmOverlay);\n\n}, \"markdown\");\n\n  CodeMirror.defineMIME(\"text/x-gfm\", \"gfm\");\n});\n","/* globals chrome: false */\n/* globals __dirname: false */\n/* globals require: false */\n/* globals Buffer: false */\n/* globals module: false */\n\n/**\n * Typo is a JavaScript implementation of a spellchecker using hunspell-style \n * dictionaries.\n */\n\nvar Typo;\n\n(function () {\n\"use strict\";\n\n/**\n * Typo constructor.\n *\n * @param {String} [dictionary] The locale code of the dictionary being used. e.g.,\n *                              \"en_US\". This is only used to auto-load dictionaries.\n * @param {String} [affData]    The data from the dictionary's .aff file. If omitted\n *                              and Typo.js is being used in a Chrome extension, the .aff\n *                              file will be loaded automatically from\n *                              lib/typo/dictionaries/[dictionary]/[dictionary].aff\n *                              In other environments, it will be loaded from\n *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].aff\n * @param {String} [wordsData]  The data from the dictionary's .dic file. If omitted\n *                              and Typo.js is being used in a Chrome extension, the .dic\n *                              file will be loaded automatically from\n *                              lib/typo/dictionaries/[dictionary]/[dictionary].dic\n *                              In other environments, it will be loaded from\n *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].dic\n * @param {Object} [settings]   Constructor settings. Available properties are:\n *                              {String} [dictionaryPath]: path to load dictionary from in non-chrome\n *                              environment.\n *                              {Object} [flags]: flag information.\n *                              {Boolean} [asyncLoad]: If true, affData and wordsData will be loaded\n *                              asynchronously.\n *                              {Function} [loadedCallback]: Called when both affData and wordsData\n *                              have been loaded. Only used if asyncLoad is set to true. The parameter\n *                              is the instantiated Typo object.\n *\n * @returns {Typo} A Typo object.\n */\n\nTypo = function (dictionary, affData, wordsData, settings) {\n\tsettings = settings || {};\n\n\tthis.dictionary = null;\n\t\n\tthis.rules = {};\n\tthis.dictionaryTable = {};\n\t\n\tthis.compoundRules = [];\n\tthis.compoundRuleCodes = {};\n\t\n\tthis.replacementTable = [];\n\t\n\tthis.flags = settings.flags || {}; \n\t\n\tthis.memoized = {};\n\n\tthis.loaded = false;\n\t\n\tvar self = this;\n\t\n\tvar path;\n\t\n\t// Loop-control variables.\n\tvar i, j, _len, _jlen;\n\t\n\tif (dictionary) {\n\t\tself.dictionary = dictionary;\n\t\t\n\t\t// If the data is preloaded, just setup the Typo object.\n\t\tif (affData && wordsData) {\n\t\t\tsetup();\n\t\t}\n\t\t// Loading data for Chrome extentions.\n\t\telse if (typeof window !== 'undefined' && 'chrome' in window && 'extension' in window.chrome && 'getURL' in window.chrome.extension) {\n\t\t\tif (settings.dictionaryPath) {\n\t\t\t\tpath = settings.dictionaryPath;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpath = \"typo/dictionaries\";\n\t\t\t}\n\t\t\t\n\t\t\tif (!affData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\"), setAffData);\n\t\t\tif (!wordsData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\"), setWordsData);\n\t\t}\n\t\telse {\n\t\t\tif (settings.dictionaryPath) {\n\t\t\t\tpath = settings.dictionaryPath;\n\t\t\t}\n\t\t\telse if (typeof __dirname !== 'undefined') {\n\t\t\t\tpath = __dirname + '/dictionaries';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpath = './dictionaries';\n\t\t\t}\n\t\t\t\n\t\t\tif (!affData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\", setAffData);\n\t\t\tif (!wordsData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\", setWordsData);\n\t\t}\n\t}\n\t\n\tfunction readDataFile(url, setFunc) {\n\t\tvar response = self._readFile(url, null, settings.asyncLoad);\n\t\t\n\t\tif (settings.asyncLoad) {\n\t\t\tresponse.then(function(data) {\n\t\t\t\tsetFunc(data);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tsetFunc(response);\n\t\t}\n\t}\n\n\tfunction setAffData(data) {\n\t\taffData = data;\n\n\t\tif (wordsData) {\n\t\t\tsetup();\n\t\t}\n\t}\n\n\tfunction setWordsData(data) {\n\t\twordsData = data;\n\n\t\tif (affData) {\n\t\t\tsetup();\n\t\t}\n\t}\n\n\tfunction setup() {\n\t\tself.rules = self._parseAFF(affData);\n\t\t\n\t\t// Save the rule codes that are used in compound rules.\n\t\tself.compoundRuleCodes = {};\n\t\t\n\t\tfor (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n\t\t\tvar rule = self.compoundRules[i];\n\t\t\t\n\t\t\tfor (j = 0, _jlen = rule.length; j < _jlen; j++) {\n\t\t\t\tself.compoundRuleCodes[rule[j]] = [];\n\t\t\t}\n\t\t}\n\t\t\n\t\t// If we add this ONLYINCOMPOUND flag to self.compoundRuleCodes, then _parseDIC\n\t\t// will do the work of saving the list of words that are compound-only.\n\t\tif (\"ONLYINCOMPOUND\" in self.flags) {\n\t\t\tself.compoundRuleCodes[self.flags.ONLYINCOMPOUND] = [];\n\t\t}\n\t\t\n\t\tself.dictionaryTable = self._parseDIC(wordsData);\n\t\t\n\t\t// Get rid of any codes from the compound rule codes that are never used \n\t\t// (or that were special regex characters).  Not especially necessary... \n\t\tfor (i in self.compoundRuleCodes) {\n\t\t\tif (self.compoundRuleCodes[i].length === 0) {\n\t\t\t\tdelete self.compoundRuleCodes[i];\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Build the full regular expressions for each compound rule.\n\t\t// I have a feeling (but no confirmation yet) that this method of \n\t\t// testing for compound words is probably slow.\n\t\tfor (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n\t\t\tvar ruleText = self.compoundRules[i];\n\t\t\t\n\t\t\tvar expressionText = \"\";\n\t\t\t\n\t\t\tfor (j = 0, _jlen = ruleText.length; j < _jlen; j++) {\n\t\t\t\tvar character = ruleText[j];\n\t\t\t\t\n\t\t\t\tif (character in self.compoundRuleCodes) {\n\t\t\t\t\texpressionText += \"(\" + self.compoundRuleCodes[character].join(\"|\") + \")\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\texpressionText += character;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.compoundRules[i] = new RegExp(expressionText, \"i\");\n\t\t}\n\t\t\n\t\tself.loaded = true;\n\t\t\n\t\tif (settings.asyncLoad && settings.loadedCallback) {\n\t\t\tsettings.loadedCallback(self);\n\t\t}\n\t}\n\t\n\treturn this;\n};\n\nTypo.prototype = {\n\t/**\n\t * Loads a Typo instance from a hash of all of the Typo properties.\n\t *\n\t * @param object obj A hash of Typo properties, probably gotten from a JSON.parse(JSON.stringify(typo_instance)).\n\t */\n\t\n\tload : function (obj) {\n\t\tfor (var i in obj) {\n\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\tthis[i] = obj[i];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn this;\n\t},\n\t\n\t/**\n\t * Read the contents of a file.\n\t * \n\t * @param {String} path The path (relative) to the file.\n\t * @param {String} [charset=\"ISO8859-1\"] The expected charset of the file\n\t * @param {Boolean} async If true, the file will be read asynchronously. For node.js this does nothing, all\n\t *        files are read synchronously.\n\t * @returns {String} The file data if async is false, otherwise a promise object. If running node.js, the data is\n\t *          always returned.\n\t */\n\t\n\t_readFile : function (path, charset, async) {\n\t\tcharset = charset || \"utf8\";\n\t\t\n\t\tif (typeof XMLHttpRequest !== 'undefined') {\n\t\t\tvar promise;\n\t\t\tvar req = new XMLHttpRequest();\n\t\t\treq.open(\"GET\", path, async);\n\t\t\t\n\t\t\tif (async) {\n\t\t\t\tpromise = new Promise(function(resolve, reject) {\n\t\t\t\t\treq.onload = function() {\n\t\t\t\t\t\tif (req.status === 200) {\n\t\t\t\t\t\t\tresolve(req.responseText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treject(req.statusText);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\treq.onerror = function() {\n\t\t\t\t\t\treject(req.statusText);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tif (req.overrideMimeType)\n\t\t\t\treq.overrideMimeType(\"text/plain; charset=\" + charset);\n\t\t\n\t\t\treq.send(null);\n\t\t\t\n\t\t\treturn async ? promise : req.responseText;\n\t\t}\n\t\telse if (typeof require !== 'undefined') {\n\t\t\t// Node.js\n\t\t\tvar fs = require(\"fs\");\n\t\t\t\n\t\t\ttry {\n\t\t\t\tif (fs.existsSync(path)) {\n\t\t\t\t\treturn fs.readFileSync(path, charset);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.log(\"Path \" + path + \" does not exist.\");\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t},\n\t\n\t/**\n\t * Parse the rules out from a .aff file.\n\t *\n\t * @param {String} data The contents of the affix file.\n\t * @returns object The rules from the file.\n\t */\n\t\n\t_parseAFF : function (data) {\n\t\tvar rules = {};\n\t\t\n\t\tvar line, subline, numEntries, lineParts;\n\t\tvar i, j, _len, _jlen;\n\t\t\n\t\t// Remove comment lines\n\t\tdata = this._removeAffixComments(data);\n\t\t\n\t\tvar lines = data.split(/\\r?\\n/);\n\t\t\n\t\tfor (i = 0, _len = lines.length; i < _len; i++) {\n\t\t\tline = lines[i];\n\t\t\t\n\t\t\tvar definitionParts = line.split(/\\s+/);\n\t\t\t\n\t\t\tvar ruleType = definitionParts[0];\n\t\t\t\n\t\t\tif (ruleType == \"PFX\" || ruleType == \"SFX\") {\n\t\t\t\tvar ruleCode = definitionParts[1];\n\t\t\t\tvar combineable = definitionParts[2];\n\t\t\t\tnumEntries = parseInt(definitionParts[3], 10);\n\t\t\t\t\n\t\t\t\tvar entries = [];\n\t\t\t\t\n\t\t\t\tfor (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n\t\t\t\t\tsubline = lines[j];\n\t\t\t\t\t\n\t\t\t\t\tlineParts = subline.split(/\\s+/);\n\t\t\t\t\tvar charactersToRemove = lineParts[2];\n\t\t\t\t\t\n\t\t\t\t\tvar additionParts = lineParts[3].split(\"/\");\n\t\t\t\t\t\n\t\t\t\t\tvar charactersToAdd = additionParts[0];\n\t\t\t\t\tif (charactersToAdd === \"0\") charactersToAdd = \"\";\n\t\t\t\t\t\n\t\t\t\t\tvar continuationClasses = this.parseRuleCodes(additionParts[1]);\n\t\t\t\t\t\n\t\t\t\t\tvar regexToMatch = lineParts[4];\n\t\t\t\t\t\n\t\t\t\t\tvar entry = {};\n\t\t\t\t\tentry.add = charactersToAdd;\n\t\t\t\t\t\n\t\t\t\t\tif (continuationClasses.length > 0) entry.continuationClasses = continuationClasses;\n\t\t\t\t\t\n\t\t\t\t\tif (regexToMatch !== \".\") {\n\t\t\t\t\t\tif (ruleType === \"SFX\") {\n\t\t\t\t\t\t\tentry.match = new RegExp(regexToMatch + \"$\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tentry.match = new RegExp(\"^\" + regexToMatch);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (charactersToRemove != \"0\") {\n\t\t\t\t\t\tif (ruleType === \"SFX\") {\n\t\t\t\t\t\t\tentry.remove = new RegExp(charactersToRemove  + \"$\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tentry.remove = charactersToRemove;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tentries.push(entry);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trules[ruleCode] = { \"type\" : ruleType, \"combineable\" : (combineable == \"Y\"), \"entries\" : entries };\n\t\t\t\t\n\t\t\t\ti += numEntries;\n\t\t\t}\n\t\t\telse if (ruleType === \"COMPOUNDRULE\") {\n\t\t\t\tnumEntries = parseInt(definitionParts[1], 10);\n\t\t\t\t\n\t\t\t\tfor (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n\t\t\t\t\tline = lines[j];\n\t\t\t\t\t\n\t\t\t\t\tlineParts = line.split(/\\s+/);\n\t\t\t\t\tthis.compoundRules.push(lineParts[1]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ti += numEntries;\n\t\t\t}\n\t\t\telse if (ruleType === \"REP\") {\n\t\t\t\tlineParts = line.split(/\\s+/);\n\t\t\t\t\n\t\t\t\tif (lineParts.length === 3) {\n\t\t\t\t\tthis.replacementTable.push([ lineParts[1], lineParts[2] ]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// ONLYINCOMPOUND\n\t\t\t\t// COMPOUNDMIN\n\t\t\t\t// FLAG\n\t\t\t\t// KEEPCASE\n\t\t\t\t// NEEDAFFIX\n\t\t\t\t\n\t\t\t\tthis.flags[ruleType] = definitionParts[1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rules;\n\t},\n\t\n\t/**\n\t * Removes comment lines and then cleans up blank lines and trailing whitespace.\n\t *\n\t * @param {String} data The data from an affix file.\n\t * @return {String} The cleaned-up data.\n\t */\n\t\n\t_removeAffixComments : function (data) {\n\t\t// Remove comments\n\t\t// This used to remove any string starting with '#' up to the end of the line,\n\t\t// but some COMPOUNDRULE definitions include '#' as part of the rule.\n\t\t// I haven't seen any affix files that use comments on the same line as real data,\n\t\t// so I don't think this will break anything.\n\t\tdata = data.replace(/^\\s*#.*$/mg, \"\");\n\t\t\n\t\t// Trim each line\n\t\tdata = data.replace(/^\\s\\s*/m, '').replace(/\\s\\s*$/m, '');\n\t\t\n\t\t// Remove blank lines.\n\t\tdata = data.replace(/\\n{2,}/g, \"\\n\");\n\t\t\n\t\t// Trim the entire string\n\t\tdata = data.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t\t\n\t\treturn data;\n\t},\n\t\n\t/**\n\t * Parses the words out from the .dic file.\n\t *\n\t * @param {String} data The data from the dictionary file.\n\t * @returns object The lookup table containing all of the words and\n\t *                 word forms from the dictionary.\n\t */\n\t\n\t_parseDIC : function (data) {\n\t\tdata = this._removeDicComments(data);\n\t\t\n\t\tvar lines = data.split(/\\r?\\n/);\n\t\tvar dictionaryTable = {};\n\t\t\n\t\tfunction addWord(word, rules) {\n\t\t\t// Some dictionaries will list the same word multiple times with different rule sets.\n\t\t\tif (!dictionaryTable.hasOwnProperty(word)) {\n\t\t\t\tdictionaryTable[word] = null;\n\t\t\t}\n\t\t\t\n\t\t\tif (rules.length > 0) {\n\t\t\t\tif (dictionaryTable[word] === null) {\n\t\t\t\t\tdictionaryTable[word] = [];\n\t\t\t\t}\n\n\t\t\t\tdictionaryTable[word].push(rules);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// The first line is the number of words in the dictionary.\n\t\tfor (var i = 1, _len = lines.length; i < _len; i++) {\n\t\t\tvar line = lines[i];\n\t\t\t\n\t\t\tif (!line) {\n\t\t\t\t// Ignore empty lines.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar parts = line.split(\"/\", 2);\n\t\t\t\n\t\t\tvar word = parts[0];\n\n\t\t\t// Now for each affix rule, generate that form of the word.\n\t\t\tif (parts.length > 1) {\n\t\t\t\tvar ruleCodesArray = this.parseRuleCodes(parts[1]);\n\t\t\t\t\n\t\t\t\t// Save the ruleCodes for compound word situations.\n\t\t\t\tif (!(\"NEEDAFFIX\" in this.flags) || ruleCodesArray.indexOf(this.flags.NEEDAFFIX) == -1) {\n\t\t\t\t\taddWord(word, ruleCodesArray);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var j = 0, _jlen = ruleCodesArray.length; j < _jlen; j++) {\n\t\t\t\t\tvar code = ruleCodesArray[j];\n\t\t\t\t\t\n\t\t\t\t\tvar rule = this.rules[code];\n\t\t\t\t\t\n\t\t\t\t\tif (rule) {\n\t\t\t\t\t\tvar newWords = this._applyRule(word, rule);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var ii = 0, _iilen = newWords.length; ii < _iilen; ii++) {\n\t\t\t\t\t\t\tvar newWord = newWords[ii];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\taddWord(newWord, []);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (rule.combineable) {\n\t\t\t\t\t\t\t\tfor (var k = j + 1; k < _jlen; k++) {\n\t\t\t\t\t\t\t\t\tvar combineCode = ruleCodesArray[k];\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar combineRule = this.rules[combineCode];\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (combineRule) {\n\t\t\t\t\t\t\t\t\t\tif (combineRule.combineable && (rule.type != combineRule.type)) {\n\t\t\t\t\t\t\t\t\t\t\tvar otherNewWords = this._applyRule(newWord, combineRule);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tfor (var iii = 0, _iiilen = otherNewWords.length; iii < _iiilen; iii++) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar otherNewWord = otherNewWords[iii];\n\t\t\t\t\t\t\t\t\t\t\t\taddWord(otherNewWord, []);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (code in this.compoundRuleCodes) {\n\t\t\t\t\t\tthis.compoundRuleCodes[code].push(word);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\taddWord(word.trim(), []);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn dictionaryTable;\n\t},\n\t\n\t\n\t/**\n\t * Removes comment lines and then cleans up blank lines and trailing whitespace.\n\t *\n\t * @param {String} data The data from a .dic file.\n\t * @return {String} The cleaned-up data.\n\t */\n\t\n\t_removeDicComments : function (data) {\n\t\t// I can't find any official documentation on it, but at least the de_DE\n\t\t// dictionary uses tab-indented lines as comments.\n\t\t\n\t\t// Remove comments\n\t\tdata = data.replace(/^\\t.*$/mg, \"\");\n\t\t\n\t\treturn data;\n\t},\n\t\n\tparseRuleCodes : function (textCodes) {\n\t\tif (!textCodes) {\n\t\t\treturn [];\n\t\t}\n\t\telse if (!(\"FLAG\" in this.flags)) {\n\t\t\treturn textCodes.split(\"\");\n\t\t}\n\t\telse if (this.flags.FLAG === \"long\") {\n\t\t\tvar flags = [];\n\t\t\t\n\t\t\tfor (var i = 0, _len = textCodes.length; i < _len; i += 2) {\n\t\t\t\tflags.push(textCodes.substr(i, 2));\n\t\t\t}\n\t\t\t\n\t\t\treturn flags;\n\t\t}\n\t\telse if (this.flags.FLAG === \"num\") {\n\t\t\treturn textCodes.split(\",\");\n\t\t}\n\t},\n\t\n\t/**\n\t * Applies an affix rule to a word.\n\t *\n\t * @param {String} word The base word.\n\t * @param {Object} rule The affix rule.\n\t * @returns {String[]} The new words generated by the rule.\n\t */\n\t\n\t_applyRule : function (word, rule) {\n\t\tvar entries = rule.entries;\n\t\tvar newWords = [];\n\t\t\n\t\tfor (var i = 0, _len = entries.length; i < _len; i++) {\n\t\t\tvar entry = entries[i];\n\t\t\t\n\t\t\tif (!entry.match || word.match(entry.match)) {\n\t\t\t\tvar newWord = word;\n\t\t\t\t\n\t\t\t\tif (entry.remove) {\n\t\t\t\t\tnewWord = newWord.replace(entry.remove, \"\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (rule.type === \"SFX\") {\n\t\t\t\t\tnewWord = newWord + entry.add;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewWord = entry.add + newWord;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tnewWords.push(newWord);\n\t\t\t\t\n\t\t\t\tif (\"continuationClasses\" in entry) {\n\t\t\t\t\tfor (var j = 0, _jlen = entry.continuationClasses.length; j < _jlen; j++) {\n\t\t\t\t\t\tvar continuationRule = this.rules[entry.continuationClasses[j]];\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (continuationRule) {\n\t\t\t\t\t\t\tnewWords = newWords.concat(this._applyRule(newWord, continuationRule));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/*\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// This shouldn't happen, but it does, at least in the de_DE dictionary.\n\t\t\t\t\t\t\t// I think the author mistakenly supplied lower-case rule codes instead \n\t\t\t\t\t\t\t// of upper-case.\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn newWords;\n\t},\n\t\n\t/**\n\t * Checks whether a word or a capitalization variant exists in the current dictionary.\n\t * The word is trimmed and several variations of capitalizations are checked.\n\t * If you want to check a word without any changes made to it, call checkExact()\n\t *\n\t * @see http://blog.stevenlevithan.com/archives/faster-trim-javascript re:trimming function\n\t *\n\t * @param {String} aWord The word to check.\n\t * @returns {Boolean}\n\t */\n\t\n\tcheck : function (aWord) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\t\t\n\t\t// Remove leading and trailing whitespace\n\t\tvar trimmedWord = aWord.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t\t\n\t\tif (this.checkExact(trimmedWord)) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t// The exact word is not in the dictionary.\n\t\tif (trimmedWord.toUpperCase() === trimmedWord) {\n\t\t\t// The word was supplied in all uppercase.\n\t\t\t// Check for a capitalized form of the word.\n\t\t\tvar capitalizedWord = trimmedWord[0] + trimmedWord.substring(1).toLowerCase();\n\t\t\t\n\t\t\tif (this.hasFlag(capitalizedWord, \"KEEPCASE\")) {\n\t\t\t\t// Capitalization variants are not allowed for this word.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tif (this.checkExact(capitalizedWord)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar lowercaseWord = trimmedWord.toLowerCase();\n\t\t\n\t\tif (lowercaseWord !== trimmedWord) {\n\t\t\tif (this.hasFlag(lowercaseWord, \"KEEPCASE\")) {\n\t\t\t\t// Capitalization variants are not allowed for this word.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t// Check for a lowercase form\n\t\t\tif (this.checkExact(lowercaseWord)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Checks whether a word exists in the current dictionary.\n\t *\n\t * @param {String} word The word to check.\n\t * @returns {Boolean}\n\t */\n\t\n\tcheckExact : function (word) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tvar ruleCodes = this.dictionaryTable[word];\n\t\t\n\t\tvar i, _len;\n\t\t\n\t\tif (typeof ruleCodes === 'undefined') {\n\t\t\t// Check if this might be a compound word.\n\t\t\tif (\"COMPOUNDMIN\" in this.flags && word.length >= this.flags.COMPOUNDMIN) {\n\t\t\t\tfor (i = 0, _len = this.compoundRules.length; i < _len; i++) {\n\t\t\t\t\tif (word.match(this.compoundRules[i])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ruleCodes === null) {\n\t\t\t// a null (but not undefined) value for an entry in the dictionary table\n\t\t\t// means that the word is in the dictionary but has no flags.\n\t\t\treturn true;\n\t\t}\n\t\telse if (typeof ruleCodes === 'object') { // this.dictionary['hasOwnProperty'] will be a function.\n\t\t\tfor (i = 0, _len = ruleCodes.length; i < _len; i++) {\n\t\t\t\tif (!this.hasFlag(word, \"ONLYINCOMPOUND\", ruleCodes[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Looks up whether a given word is flagged with a given flag.\n\t *\n\t * @param {String} word The word in question.\n\t * @param {String} flag The flag in question.\n\t * @return {Boolean}\n\t */\n\t \n\thasFlag : function (word, flag, wordFlags) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tif (flag in this.flags) {\n\t\t\tif (typeof wordFlags === 'undefined') {\n\t\t\t\twordFlags = Array.prototype.concat.apply([], this.dictionaryTable[word]);\n\t\t\t}\n\t\t\t\n\t\t\tif (wordFlags && wordFlags.indexOf(this.flags[flag]) !== -1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Returns a list of suggestions for a misspelled word.\n\t *\n\t * @see http://www.norvig.com/spell-correct.html for the basis of this suggestor.\n\t * This suggestor is primitive, but it works.\n\t *\n\t * @param {String} word The misspelling.\n\t * @param {Number} [limit=5] The maximum number of suggestions to return.\n\t * @returns {String[]} The array of suggestions.\n\t */\n\t\n\talphabet : \"\",\n\t\n\tsuggest : function (word, limit) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tlimit = limit || 5;\n\n\t\tif (this.memoized.hasOwnProperty(word)) {\n\t\t\tvar memoizedLimit = this.memoized[word]['limit'];\n\n\t\t\t// Only return the cached list if it's big enough or if there weren't enough suggestions\n\t\t\t// to fill a smaller limit.\n\t\t\tif (limit <= memoizedLimit || this.memoized[word]['suggestions'].length < memoizedLimit) {\n\t\t\t\treturn this.memoized[word]['suggestions'].slice(0, limit);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (this.check(word)) return [];\n\t\t\n\t\t// Check the replacement table.\n\t\tfor (var i = 0, _len = this.replacementTable.length; i < _len; i++) {\n\t\t\tvar replacementEntry = this.replacementTable[i];\n\t\t\t\n\t\t\tif (word.indexOf(replacementEntry[0]) !== -1) {\n\t\t\t\tvar correctedWord = word.replace(replacementEntry[0], replacementEntry[1]);\n\t\t\t\t\n\t\t\t\tif (this.check(correctedWord)) {\n\t\t\t\t\treturn [ correctedWord ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar self = this;\n\t\tself.alphabet = \"abcdefghijklmnopqrstuvwxyz\";\n\t\t\n\t\t/*\n\t\tif (!self.alphabet) {\n\t\t\t// Use the alphabet as implicitly defined by the words in the dictionary.\n\t\t\tvar alphaHash = {};\n\t\t\t\n\t\t\tfor (var i in self.dictionaryTable) {\n\t\t\t\tfor (var j = 0, _len = i.length; j < _len; j++) {\n\t\t\t\t\talphaHash[i[j]] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tfor (var i in alphaHash) {\n\t\t\t\tself.alphabet += i;\n\t\t\t}\n\t\t\t\n\t\t\tvar alphaArray = self.alphabet.split(\"\");\n\t\t\talphaArray.sort();\n\t\t\tself.alphabet = alphaArray.join(\"\");\n\t\t}\n\t\t*/\n\t\t\n\t\t/**\n\t\t * Returns a hash keyed by all of the strings that can be made by making a single edit to the word (or words in) `words`\n\t\t * The value of each entry is the number of unique ways that the resulting word can be made.\n\t\t *\n\t\t * @arg mixed words Either a hash keyed by words or a string word to operate on.\n\t\t * @arg bool known_only Whether this function should ignore strings that are not in the dictionary.\n\t\t */\n\t\tfunction edits1(words, known_only) {\n\t\t\tvar rv = {};\n\t\t\t\n\t\t\tvar i, j, _iilen, _len, _jlen, _edit;\n\t\t\t\n\t\t\tif (typeof words == 'string') {\n\t\t\t\tvar word = words;\n\t\t\t\twords = {};\n\t\t\t\twords[word] = true;\n\t\t\t}\n\n\t\t\tfor (var word in words) {\n\t\t\t\tfor (i = 0, _len = word.length + 1; i < _len; i++) {\n\t\t\t\t\tvar s = [ word.substring(0, i), word.substring(i) ];\n\t\t\t\t\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\t_edit = s[0] + s[1].substring(1);\n\n\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Eliminate transpositions of identical letters\n\t\t\t\t\tif (s[1].length > 1 && s[1][1] !== s[1][0]) {\n\t\t\t\t\t\t_edit = s[0] + s[1][1] + s[1][0] + s[1].substring(2);\n\n\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\tfor (j = 0, _jlen = self.alphabet.length; j < _jlen; j++) {\n\t\t\t\t\t\t\t// Eliminate replacement of a letter by itself\n\t\t\t\t\t\t\tif (self.alphabet[j] != s[1].substring(0,1)){\n\t\t\t\t\t\t\t\t_edit = s[0] + self.alphabet[j] + s[1].substring(1);\n\n\t\t\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\tfor (j = 0, _jlen = self.alphabet.length; j < _jlen; j++) {\n\t\t\t\t\t\t\t_edit = s[0] + self.alphabet[j] + s[1];\n\n\t\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn rv;\n\t\t}\n\n\t\tfunction correct(word) {\n\t\t\t// Get the edit-distance-1 and edit-distance-2 forms of this word.\n\t\t\tvar ed1 = edits1(word);\n\t\t\tvar ed2 = edits1(ed1, true);\n\t\t\t\n\t\t\t// Sort the edits based on how many different ways they were created.\n\t\t\tvar weighted_corrections = ed2;\n\t\t\t\n\t\t\tfor (var ed1word in ed1) {\n\t\t\t\tif (!self.check(ed1word)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (ed1word in weighted_corrections) {\n\t\t\t\t\tweighted_corrections[ed1word] += ed1[ed1word];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tweighted_corrections[ed1word] = ed1[ed1word];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar i, _len;\n\n\t\t\tvar sorted_corrections = [];\n\t\t\t\n\t\t\tfor (i in weighted_corrections) {\n\t\t\t\tif (weighted_corrections.hasOwnProperty(i)) {\n\t\t\t\t\tsorted_corrections.push([ i, weighted_corrections[i] ]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction sorter(a, b) {\n\t\t\t\tvar a_val = a[1];\n\t\t\t\tvar b_val = b[1];\n\t\t\t\tif (a_val < b_val) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a_val > b_val) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\t// @todo If a and b are equally weighted, add our own weight based on something like the key locations on this language's default keyboard.\n\t\t\t\treturn b[0].localeCompare(a[0]);\n\t\t\t}\n\t\t\t\n\t\t\tsorted_corrections.sort(sorter).reverse();\n\n\t\t\tvar rv = [];\n\n\t\t\tvar capitalization_scheme = \"lowercase\";\n\t\t\t\n\t\t\tif (word.toUpperCase() === word) {\n\t\t\t\tcapitalization_scheme = \"uppercase\";\n\t\t\t}\n\t\t\telse if (word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase() === word) {\n\t\t\t\tcapitalization_scheme = \"capitalized\";\n\t\t\t}\n\t\t\t\n\t\t\tvar working_limit = limit;\n\n\t\t\tfor (i = 0; i < Math.min(working_limit, sorted_corrections.length); i++) {\n\t\t\t\tif (\"uppercase\" === capitalization_scheme) {\n\t\t\t\t\tsorted_corrections[i][0] = sorted_corrections[i][0].toUpperCase();\n\t\t\t\t}\n\t\t\t\telse if (\"capitalized\" === capitalization_scheme) {\n\t\t\t\t\tsorted_corrections[i][0] = sorted_corrections[i][0].substr(0, 1).toUpperCase() + sorted_corrections[i][0].substr(1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!self.hasFlag(sorted_corrections[i][0], \"NOSUGGEST\") && rv.indexOf(sorted_corrections[i][0]) == -1) {\n\t\t\t\t\trv.push(sorted_corrections[i][0]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// If one of the corrections is not eligible as a suggestion , make sure we still return the right number of suggestions.\n\t\t\t\t\tworking_limit++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn rv;\n\t\t}\n\t\t\n\t\tthis.memoized[word] = {\n\t\t\t'suggestions': correct(word),\n\t\t\t'limit': limit\n\t\t};\n\n\t\treturn this.memoized[word]['suggestions'];\n\t}\n};\n})();\n\n// Support for use as a node.js module.\nif (typeof module !== 'undefined') {\n\tmodule.exports = Typo;\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function(cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);\n    else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset,\n                                  width: wrap.style.width, height: wrap.style.height};\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width; wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('markdown-editor',{model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"markdown-wrapper\"},[_c('textarea',{ref:\"editor\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"markdown-wrapper\">\n    <textarea ref=\"editor\"></textarea>\n  </div>\n</template>\n\n<script>\nimport Simplemde from 'simplemde'\nimport 'simplemde/dist/simplemde.min.css'\nexport default {\n  name: 'MarkdownEditor',\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    options: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    localCache: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data () {\n    return {\n      editor: null\n    }\n  },\n  methods: {\n    addEvents () {\n      this.editor.codemirror.on('change', () => {\n        let value = this.editor.value()\n        if (this.localCache) localStorage.markdownContent = value\n        this.$emit('input', value)\n        this.$emit('on-change', value)\n      })\n      this.editor.codemirror.on('focus', () => {\n        this.$emit('on-focus', this.editor.value())\n      })\n      this.editor.codemirror.on('blur', () => {\n        this.$emit('on-blur', this.editor.value())\n      })\n    }\n  },\n  mounted () {\n    this.editor = new Simplemde(Object.assign(this.options, {\n      element: this.$refs.editor\n    }))\n    /**\n     * 事件列表为Codemirror编辑器的事件，更多事件类型，请参考：\n     * https://codemirror.net/doc/manual.html#events\n     */\n    this.addEvents()\n    let content = localStorage.markdownContent\n    if (content) this.editor.value(content)\n  }\n}\n</script>\n\n<style lang=\"less\">\n.markdown-wrapper{\n  .editor-toolbar.fullscreen{\n    z-index: 9999;\n  }\n  .CodeMirror-fullscreen{\n    z-index: 9999;\n  }\n  .CodeMirror-fullscreen ~ .editor-preview-side{\n    z-index: 9999;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./markdown.vue?vue&type=template&id=c384f98e&\"\nimport script from \"./markdown.vue?vue&type=script&lang=js&\"\nexport * from \"./markdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./markdown.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import MarkdownEditor from './markdown.vue'\nexport default MarkdownEditor\n","<template>\n  <div>\n    <markdown-editor v-model=\"content\"/>\n  </div>\n</template>\n\n<script>\nimport MarkdownEditor from '_c/markdown'\nexport default {\n  name: 'markdown_page',\n  components: {\n    MarkdownEditor\n  },\n  data () {\n    return {\n      content: ''\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./markdown.vue?vue&type=template&id=157f5a35&\"\nimport script from \"./markdown.vue?vue&type=script&lang=js&\"\nexport * from \"./markdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=style&index=0&lang=less&\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate aross list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match(/^~~/, true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(/^\\]:/, true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\\\\\|\\\\.)+\"|'(?:[^'\\\\]|\\\\\\\\|\\\\.)+'|\\((?:[^)\\\\]|\\\\\\\\|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection)\n      cm.operation(function() { update(cm); });\n  }\n\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length)\n      cm.operation(function() { clear(cm); });\n  }\n\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE, atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {className: cls});\n      if (addAt == null) array.push(mark);\n      else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n    for (var i = 0; i < array.length; ++i) array[i].clear();\n    array.length = 0;\n  }\n\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++)\n      coverRange(cm, ranges[i].from(), ranges[i].to());\n  }\n\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n\n    var from = cm.getCursor(\"start\"), to = cm.getCursor(\"end\");\n\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n\n    var coverStart = array[0].find(), coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE ||\n        cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0)\n      return reset(cm);\n\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.overlayMode = function(base, overlay, combine) {\n  return {\n    startState: function() {\n      return {\n        base: CodeMirror.startState(base),\n        overlay: CodeMirror.startState(overlay),\n        basePos: 0, baseCur: null,\n        overlayPos: 0, overlayCur: null,\n        streamSeen: null\n      };\n    },\n    copyState: function(state) {\n      return {\n        base: CodeMirror.copyState(base, state.base),\n        overlay: CodeMirror.copyState(overlay, state.overlay),\n        basePos: state.basePos, baseCur: null,\n        overlayPos: state.overlayPos, overlayCur: null\n      };\n    },\n\n    token: function(stream, state) {\n      if (stream != state.streamSeen ||\n          Math.min(state.basePos, state.overlayPos) < stream.start) {\n        state.streamSeen = stream;\n        state.basePos = state.overlayPos = stream.start;\n      }\n\n      if (stream.start == state.basePos) {\n        state.baseCur = base.token(stream, state.base);\n        state.basePos = stream.pos;\n      }\n      if (stream.start == state.overlayPos) {\n        stream.pos = stream.start;\n        state.overlayCur = overlay.token(stream, state.overlay);\n        state.overlayPos = stream.pos;\n      }\n      stream.pos = Math.min(state.basePos, state.overlayPos);\n\n      // state.overlay.combineTokens always takes precedence over combine,\n      // unless set to null\n      if (state.overlayCur == null) return state.baseCur;\n      else if (state.baseCur != null &&\n               state.overlay.combineTokens ||\n               combine && state.overlay.combineTokens == null)\n        return state.baseCur + \" \" + state.overlayCur;\n      else return state.overlayCur;\n    },\n\n    indent: base.indent && function(state, textAfter, line) {\n      return base.indent(state.base, textAfter, line);\n    },\n    electricChars: base.electricChars,\n\n    innerMode: function(state) { return {state: state.base, mode: base}; },\n\n    blankLine: function(state) {\n      var baseToken, overlayToken;\n      if (base.blankLine) baseToken = base.blankLine(state.base);\n      if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n\n      return overlayToken == null ?\n        baseToken :\n        (combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken);\n    }\n  };\n};\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\nvar CodeMirror = require(\"codemirror\");\n\nCodeMirror.commands.tabAndIndentMarkdownList = function (cm) {\n\tvar ranges = cm.listSelections();\n\tvar pos = ranges[0].head;\n\tvar eolState = cm.getStateAfter(pos.line);\n\tvar inList = eolState.list !== false;\n\n\tif (inList) {\n\t\tcm.execCommand(\"indentMore\");\n\t\treturn;\n\t}\n\n\tif (cm.options.indentWithTabs) {\n\t\tcm.execCommand(\"insertTab\");\n\t}\n\telse {\n\t\tvar spaces = Array(cm.options.tabSize + 1).join(\" \");\n\t\tcm.replaceSelection(spaces);\n\t}\n};\n\nCodeMirror.commands.shiftTabAndUnindentMarkdownList = function (cm) {\n\tvar ranges = cm.listSelections();\n\tvar pos = ranges[0].head;\n\tvar eolState = cm.getStateAfter(pos.line);\n\tvar inList = eolState.list !== false;\n\n\tif (inList) {\n\t\tcm.execCommand(\"indentLess\");\n\t\treturn;\n\t}\n\n\tif (cm.options.indentWithTabs) {\n\t\tcm.execCommand(\"insertTab\");\n\t}\n\telse {\n\t\tvar spaces = Array(cm.options.tabSize + 1).join(\" \");\n\t\tcm.replaceSelection(spaces);\n\t}\n};\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        if (cx.tagName) context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\")\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\n    elt.appendChild(placeHolder)\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function() {\n      var empty = false, input = cm.getInputField()\n      if (input.nodeName == \"TEXTAREA\")\n        empty = !input.value\n      else if (cm.lineCount() == 1)\n        empty = !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }, 20)\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n\n    if (empty) setPlaceholder(cm);\n    else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\n  }\n});\n","// Use strict mode (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode)\n\"use strict\";\n\n\n// Requires\nvar Typo = require(\"typo-js\");\n\n\n// Create function\nfunction CodeMirrorSpellChecker(options) {\n\t// Initialize\n\toptions = options || {};\n\n\n\t// Verify\n\tif(typeof options.codeMirrorInstance !== \"function\" || typeof options.codeMirrorInstance.defineMode !== \"function\") {\n\t\tconsole.log(\"CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`\");\n\t\treturn;\n\t}\n\n\n\t// Because some browsers don't support this functionality yet\n\tif(!String.prototype.includes) {\n\t\tString.prototype.includes = function() {\n\t\t\t\"use strict\";\n\t\t\treturn String.prototype.indexOf.apply(this, arguments) !== -1;\n\t\t};\n\t}\n\n\n\t// Define the new mode\n\toptions.codeMirrorInstance.defineMode(\"spell-checker\", function(config) {\n\t\t// Load AFF/DIC data\n\t\tif(!CodeMirrorSpellChecker.aff_loading) {\n\t\t\tCodeMirrorSpellChecker.aff_loading = true;\n\t\t\tvar xhr_aff = new XMLHttpRequest();\n\t\t\txhr_aff.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff\", true);\n\t\t\txhr_aff.onload = function() {\n\t\t\t\tif(xhr_aff.readyState === 4 && xhr_aff.status === 200) {\n\t\t\t\t\tCodeMirrorSpellChecker.aff_data = xhr_aff.responseText;\n\t\t\t\t\tCodeMirrorSpellChecker.num_loaded++;\n\n\t\t\t\t\tif(CodeMirrorSpellChecker.num_loaded == 2) {\n\t\t\t\t\t\tCodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n\t\t\t\t\t\t\tplatform: \"any\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr_aff.send(null);\n\t\t}\n\n\t\tif(!CodeMirrorSpellChecker.dic_loading) {\n\t\t\tCodeMirrorSpellChecker.dic_loading = true;\n\t\t\tvar xhr_dic = new XMLHttpRequest();\n\t\t\txhr_dic.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic\", true);\n\t\t\txhr_dic.onload = function() {\n\t\t\t\tif(xhr_dic.readyState === 4 && xhr_dic.status === 200) {\n\t\t\t\t\tCodeMirrorSpellChecker.dic_data = xhr_dic.responseText;\n\t\t\t\t\tCodeMirrorSpellChecker.num_loaded++;\n\n\t\t\t\t\tif(CodeMirrorSpellChecker.num_loaded == 2) {\n\t\t\t\t\t\tCodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n\t\t\t\t\t\t\tplatform: \"any\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr_dic.send(null);\n\t\t}\n\n\n\t\t// Define what separates a word\n\t\tvar rx_word = \"!\\\"#$%&()*+,-./:;<=>?@[\\\\]^_`{|}~ \";\n\n\n\t\t// Create the overlay and such\n\t\tvar overlay = {\n\t\t\ttoken: function(stream) {\n\t\t\t\tvar ch = stream.peek();\n\t\t\t\tvar word = \"\";\n\n\t\t\t\tif(rx_word.includes(ch)) {\n\t\t\t\t\tstream.next();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\twhile((ch = stream.peek()) != null && !rx_word.includes(ch)) {\n\t\t\t\t\tword += ch;\n\t\t\t\t\tstream.next();\n\t\t\t\t}\n\n\t\t\t\tif(CodeMirrorSpellChecker.typo && !CodeMirrorSpellChecker.typo.check(word))\n\t\t\t\t\treturn \"spell-error\"; // CSS class: cm-spell-error\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\tvar mode = options.codeMirrorInstance.getMode(\n\t\t\tconfig, config.backdrop || \"text/plain\"\n\t\t);\n\n\t\treturn options.codeMirrorInstance.overlayMode(mode, overlay, true);\n\t});\n}\n\n\n// Initialize data globally to reduce memory consumption\nCodeMirrorSpellChecker.num_loaded = 0;\nCodeMirrorSpellChecker.aff_loading = false;\nCodeMirrorSpellChecker.dic_loading = false;\nCodeMirrorSpellChecker.aff_data = \"\";\nCodeMirrorSpellChecker.dic_data = \"\";\nCodeMirrorSpellChecker.typo;\n\n\n// Export\nmodule.exports = CodeMirrorSpellChecker;","/*global require,module*/\n\"use strict\";\nvar CodeMirror = require(\"codemirror\");\nrequire(\"codemirror/addon/edit/continuelist.js\");\nrequire(\"./codemirror/tablist\");\nrequire(\"codemirror/addon/display/fullscreen.js\");\nrequire(\"codemirror/mode/markdown/markdown.js\");\nrequire(\"codemirror/addon/mode/overlay.js\");\nrequire(\"codemirror/addon/display/placeholder.js\");\nrequire(\"codemirror/addon/selection/mark-selection.js\");\nrequire(\"codemirror/mode/gfm/gfm.js\");\nrequire(\"codemirror/mode/xml/xml.js\");\nvar CodeMirrorSpellChecker = require(\"codemirror-spell-checker\");\nvar marked = require(\"marked\");\n\n\n// Some variables\nvar isMac = /Mac/.test(navigator.platform);\n\n// Mapping of actions that can be bound to keyboard shortcuts or toolbar buttons\nvar bindings = {\n\t\"toggleBold\": toggleBold,\n\t\"toggleItalic\": toggleItalic,\n\t\"drawLink\": drawLink,\n\t\"toggleHeadingSmaller\": toggleHeadingSmaller,\n\t\"toggleHeadingBigger\": toggleHeadingBigger,\n\t\"drawImage\": drawImage,\n\t\"toggleBlockquote\": toggleBlockquote,\n\t\"toggleOrderedList\": toggleOrderedList,\n\t\"toggleUnorderedList\": toggleUnorderedList,\n\t\"toggleCodeBlock\": toggleCodeBlock,\n\t\"togglePreview\": togglePreview,\n\t\"toggleStrikethrough\": toggleStrikethrough,\n\t\"toggleHeading1\": toggleHeading1,\n\t\"toggleHeading2\": toggleHeading2,\n\t\"toggleHeading3\": toggleHeading3,\n\t\"cleanBlock\": cleanBlock,\n\t\"drawTable\": drawTable,\n\t\"drawHorizontalRule\": drawHorizontalRule,\n\t\"undo\": undo,\n\t\"redo\": redo,\n\t\"toggleSideBySide\": toggleSideBySide,\n\t\"toggleFullScreen\": toggleFullScreen\n};\n\nvar shortcuts = {\n\t\"toggleBold\": \"Cmd-B\",\n\t\"toggleItalic\": \"Cmd-I\",\n\t\"drawLink\": \"Cmd-K\",\n\t\"toggleHeadingSmaller\": \"Cmd-H\",\n\t\"toggleHeadingBigger\": \"Shift-Cmd-H\",\n\t\"cleanBlock\": \"Cmd-E\",\n\t\"drawImage\": \"Cmd-Alt-I\",\n\t\"toggleBlockquote\": \"Cmd-'\",\n\t\"toggleOrderedList\": \"Cmd-Alt-L\",\n\t\"toggleUnorderedList\": \"Cmd-L\",\n\t\"toggleCodeBlock\": \"Cmd-Alt-C\",\n\t\"togglePreview\": \"Cmd-P\",\n\t\"toggleSideBySide\": \"F9\",\n\t\"toggleFullScreen\": \"F11\"\n};\n\nvar getBindingName = function(f) {\n\tfor(var key in bindings) {\n\t\tif(bindings[key] === f) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn null;\n};\n\nvar isMobile = function() {\n\tvar check = false;\n\t(function(a) {\n\t\tif(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n\t})(navigator.userAgent || navigator.vendor || window.opera);\n\treturn check;\n};\n\n\n/**\n * Fix shortcut. Mac use Command, others use Ctrl.\n */\nfunction fixShortcut(name) {\n\tif(isMac) {\n\t\tname = name.replace(\"Ctrl\", \"Cmd\");\n\t} else {\n\t\tname = name.replace(\"Cmd\", \"Ctrl\");\n\t}\n\treturn name;\n}\n\n\n/**\n * Create icon element for toolbar.\n */\nfunction createIcon(options, enableTooltips, shortcuts) {\n\toptions = options || {};\n\tvar el = document.createElement(\"a\");\n\tenableTooltips = (enableTooltips == undefined) ? true : enableTooltips;\n\n\tif(options.title && enableTooltips) {\n\t\tel.title = createTootlip(options.title, options.action, shortcuts);\n\n\t\tif(isMac) {\n\t\t\tel.title = el.title.replace(\"Ctrl\", \"⌘\");\n\t\t\tel.title = el.title.replace(\"Alt\", \"⌥\");\n\t\t}\n\t}\n\n\tel.tabIndex = -1;\n\tel.className = options.className;\n\treturn el;\n}\n\nfunction createSep() {\n\tvar el = document.createElement(\"i\");\n\tel.className = \"separator\";\n\tel.innerHTML = \"|\";\n\treturn el;\n}\n\nfunction createTootlip(title, action, shortcuts) {\n\tvar actionName;\n\tvar tooltip = title;\n\n\tif(action) {\n\t\tactionName = getBindingName(action);\n\t\tif(shortcuts[actionName]) {\n\t\t\ttooltip += \" (\" + fixShortcut(shortcuts[actionName]) + \")\";\n\t\t}\n\t}\n\n\treturn tooltip;\n}\n\n/**\n * The state of CodeMirror at the given position.\n */\nfunction getState(cm, pos) {\n\tpos = pos || cm.getCursor(\"start\");\n\tvar stat = cm.getTokenAt(pos);\n\tif(!stat.type) return {};\n\n\tvar types = stat.type.split(\" \");\n\n\tvar ret = {},\n\t\tdata, text;\n\tfor(var i = 0; i < types.length; i++) {\n\t\tdata = types[i];\n\t\tif(data === \"strong\") {\n\t\t\tret.bold = true;\n\t\t} else if(data === \"variable-2\") {\n\t\t\ttext = cm.getLine(pos.line);\n\t\t\tif(/^\\s*\\d+\\.\\s/.test(text)) {\n\t\t\t\tret[\"ordered-list\"] = true;\n\t\t\t} else {\n\t\t\t\tret[\"unordered-list\"] = true;\n\t\t\t}\n\t\t} else if(data === \"atom\") {\n\t\t\tret.quote = true;\n\t\t} else if(data === \"em\") {\n\t\t\tret.italic = true;\n\t\t} else if(data === \"quote\") {\n\t\t\tret.quote = true;\n\t\t} else if(data === \"strikethrough\") {\n\t\t\tret.strikethrough = true;\n\t\t} else if(data === \"comment\") {\n\t\t\tret.code = true;\n\t\t} else if(data === \"link\") {\n\t\t\tret.link = true;\n\t\t} else if(data === \"tag\") {\n\t\t\tret.image = true;\n\t\t} else if(data.match(/^header(\\-[1-6])?$/)) {\n\t\t\tret[data.replace(\"header\", \"heading\")] = true;\n\t\t}\n\t}\n\treturn ret;\n}\n\n\n// Saved overflow setting\nvar saved_overflow = \"\";\n\n/**\n * Toggle full screen of the editor.\n */\nfunction toggleFullScreen(editor) {\n\t// Set fullscreen\n\tvar cm = editor.codemirror;\n\tcm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n\n\n\t// Prevent scrolling on body during fullscreen active\n\tif(cm.getOption(\"fullScreen\")) {\n\t\tsaved_overflow = document.body.style.overflow;\n\t\tdocument.body.style.overflow = \"hidden\";\n\t} else {\n\t\tdocument.body.style.overflow = saved_overflow;\n\t}\n\n\n\t// Update toolbar class\n\tvar wrap = cm.getWrapperElement();\n\n\tif(!/fullscreen/.test(wrap.previousSibling.className)) {\n\t\twrap.previousSibling.className += \" fullscreen\";\n\t} else {\n\t\twrap.previousSibling.className = wrap.previousSibling.className.replace(/\\s*fullscreen\\b/, \"\");\n\t}\n\n\n\t// Update toolbar button\n\tvar toolbarButton = editor.toolbarElements.fullscreen;\n\n\tif(!/active/.test(toolbarButton.className)) {\n\t\ttoolbarButton.className += \" active\";\n\t} else {\n\t\ttoolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, \"\");\n\t}\n\n\n\t// Hide side by side if needed\n\tvar sidebyside = cm.getWrapperElement().nextSibling;\n\tif(/editor-preview-active-side/.test(sidebyside.className))\n\t\ttoggleSideBySide(editor);\n}\n\n\n/**\n * Action for toggling bold.\n */\nfunction toggleBold(editor) {\n\t_toggleBlock(editor, \"bold\", editor.options.blockStyles.bold);\n}\n\n\n/**\n * Action for toggling italic.\n */\nfunction toggleItalic(editor) {\n\t_toggleBlock(editor, \"italic\", editor.options.blockStyles.italic);\n}\n\n\n/**\n * Action for toggling strikethrough.\n */\nfunction toggleStrikethrough(editor) {\n\t_toggleBlock(editor, \"strikethrough\", \"~~\");\n}\n\n/**\n * Action for toggling code block.\n */\nfunction toggleCodeBlock(editor) {\n\tvar fenceCharsToInsert = editor.options.blockStyles.code;\n\n\tfunction fencing_line(line) {\n\t\t/* return true, if this is a ``` or ~~~ line */\n\t\tif(typeof line !== \"object\") {\n\t\t\tthrow \"fencing_line() takes a 'line' object (not a line number, or line text).  Got: \" + typeof line + \": \" + line;\n\t\t}\n\t\treturn line.styles && line.styles[2] && line.styles[2].indexOf(\"formatting-code-block\") !== -1;\n\t}\n\n\tfunction token_state(token) {\n\t\t// base goes an extra level deep when mode backdrops are used, e.g. spellchecker on\n\t\treturn token.state.base.base || token.state.base;\n\t}\n\n\tfunction code_type(cm, line_num, line, firstTok, lastTok) {\n\t\t/*\n\t\t * Return \"single\", \"indented\", \"fenced\" or false\n\t\t *\n\t\t * cm and line_num are required.  Others are optional for efficiency\n\t\t *   To check in the middle of a line, pass in firstTok yourself.\n\t\t */\n\t\tline = line || cm.getLineHandle(line_num);\n\t\tfirstTok = firstTok || cm.getTokenAt({\n\t\t\tline: line_num,\n\t\t\tch: 1\n\t\t});\n\t\tlastTok = lastTok || (!!line.text && cm.getTokenAt({\n\t\t\tline: line_num,\n\t\t\tch: line.text.length - 1\n\t\t}));\n\t\tvar types = firstTok.type ? firstTok.type.split(\" \") : [];\n\t\tif(lastTok && token_state(lastTok).indentedCode) {\n\t\t\t// have to check last char, since first chars of first line aren\"t marked as indented\n\t\t\treturn \"indented\";\n\t\t} else if(types.indexOf(\"comment\") === -1) {\n\t\t\t// has to be after \"indented\" check, since first chars of first indented line aren\"t marked as such\n\t\t\treturn false;\n\t\t} else if(token_state(firstTok).fencedChars || token_state(lastTok).fencedChars || fencing_line(line)) {\n\t\t\treturn \"fenced\";\n\t\t} else {\n\t\t\treturn \"single\";\n\t\t}\n\t}\n\n\tfunction insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert) {\n\t\tvar start_line_sel = cur_start.line + 1,\n\t\t\tend_line_sel = cur_end.line + 1,\n\t\t\tsel_multi = cur_start.line !== cur_end.line,\n\t\t\trepl_start = fenceCharsToInsert + \"\\n\",\n\t\t\trepl_end = \"\\n\" + fenceCharsToInsert;\n\t\tif(sel_multi) {\n\t\t\tend_line_sel++;\n\t\t}\n\t\t// handle last char including \\n or not\n\t\tif(sel_multi && cur_end.ch === 0) {\n\t\t\trepl_end = fenceCharsToInsert + \"\\n\";\n\t\t\tend_line_sel--;\n\t\t}\n\t\t_replaceSelection(cm, false, [repl_start, repl_end]);\n\t\tcm.setSelection({\n\t\t\tline: start_line_sel,\n\t\t\tch: 0\n\t\t}, {\n\t\t\tline: end_line_sel,\n\t\t\tch: 0\n\t\t});\n\t}\n\n\tvar cm = editor.codemirror,\n\t\tcur_start = cm.getCursor(\"start\"),\n\t\tcur_end = cm.getCursor(\"end\"),\n\t\ttok = cm.getTokenAt({\n\t\t\tline: cur_start.line,\n\t\t\tch: cur_start.ch || 1\n\t\t}), // avoid ch 0 which is a cursor pos but not token\n\t\tline = cm.getLineHandle(cur_start.line),\n\t\tis_code = code_type(cm, cur_start.line, line, tok);\n\tvar block_start, block_end, lineCount;\n\n\tif(is_code === \"single\") {\n\t\t// similar to some SimpleMDE _toggleBlock logic\n\t\tvar start = line.text.slice(0, cur_start.ch).replace(\"`\", \"\"),\n\t\t\tend = line.text.slice(cur_start.ch).replace(\"`\", \"\");\n\t\tcm.replaceRange(start + end, {\n\t\t\tline: cur_start.line,\n\t\t\tch: 0\n\t\t}, {\n\t\t\tline: cur_start.line,\n\t\t\tch: 99999999999999\n\t\t});\n\t\tcur_start.ch--;\n\t\tif(cur_start !== cur_end) {\n\t\t\tcur_end.ch--;\n\t\t}\n\t\tcm.setSelection(cur_start, cur_end);\n\t\tcm.focus();\n\t} else if(is_code === \"fenced\") {\n\t\tif(cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n\t\t\t// use selection\n\n\t\t\t// find the fenced line so we know what type it is (tilde, backticks, number of them)\n\t\t\tfor(block_start = cur_start.line; block_start >= 0; block_start--) {\n\t\t\t\tline = cm.getLineHandle(block_start);\n\t\t\t\tif(fencing_line(line)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar fencedTok = cm.getTokenAt({\n\t\t\t\tline: block_start,\n\t\t\t\tch: 1\n\t\t\t});\n\t\t\tvar fence_chars = token_state(fencedTok).fencedChars;\n\t\t\tvar start_text, start_line;\n\t\t\tvar end_text, end_line;\n\t\t\t// check for selection going up against fenced lines, in which case we don't want to add more fencing\n\t\t\tif(fencing_line(cm.getLineHandle(cur_start.line))) {\n\t\t\t\tstart_text = \"\";\n\t\t\t\tstart_line = cur_start.line;\n\t\t\t} else if(fencing_line(cm.getLineHandle(cur_start.line - 1))) {\n\t\t\t\tstart_text = \"\";\n\t\t\t\tstart_line = cur_start.line - 1;\n\t\t\t} else {\n\t\t\t\tstart_text = fence_chars + \"\\n\";\n\t\t\t\tstart_line = cur_start.line;\n\t\t\t}\n\t\t\tif(fencing_line(cm.getLineHandle(cur_end.line))) {\n\t\t\t\tend_text = \"\";\n\t\t\t\tend_line = cur_end.line;\n\t\t\t\tif(cur_end.ch === 0) {\n\t\t\t\t\tend_line += 1;\n\t\t\t\t}\n\t\t\t} else if(cur_end.ch !== 0 && fencing_line(cm.getLineHandle(cur_end.line + 1))) {\n\t\t\t\tend_text = \"\";\n\t\t\t\tend_line = cur_end.line + 1;\n\t\t\t} else {\n\t\t\t\tend_text = fence_chars + \"\\n\";\n\t\t\t\tend_line = cur_end.line + 1;\n\t\t\t}\n\t\t\tif(cur_end.ch === 0) {\n\t\t\t\t// full last line selected, putting cursor at beginning of next\n\t\t\t\tend_line -= 1;\n\t\t\t}\n\t\t\tcm.operation(function() {\n\t\t\t\t// end line first, so that line numbers don't change\n\t\t\t\tcm.replaceRange(end_text, {\n\t\t\t\t\tline: end_line,\n\t\t\t\t\tch: 0\n\t\t\t\t}, {\n\t\t\t\t\tline: end_line + (end_text ? 0 : 1),\n\t\t\t\t\tch: 0\n\t\t\t\t});\n\t\t\t\tcm.replaceRange(start_text, {\n\t\t\t\t\tline: start_line,\n\t\t\t\t\tch: 0\n\t\t\t\t}, {\n\t\t\t\t\tline: start_line + (start_text ? 0 : 1),\n\t\t\t\t\tch: 0\n\t\t\t\t});\n\t\t\t});\n\t\t\tcm.setSelection({\n\t\t\t\tline: start_line + (start_text ? 1 : 0),\n\t\t\t\tch: 0\n\t\t\t}, {\n\t\t\t\tline: end_line + (start_text ? 1 : -1),\n\t\t\t\tch: 0\n\t\t\t});\n\t\t\tcm.focus();\n\t\t} else {\n\t\t\t// no selection, search for ends of this fenced block\n\t\t\tvar search_from = cur_start.line;\n\t\t\tif(fencing_line(cm.getLineHandle(cur_start.line))) { // gets a little tricky if cursor is right on a fenced line\n\t\t\t\tif(code_type(cm, cur_start.line + 1) === \"fenced\") {\n\t\t\t\t\tblock_start = cur_start.line;\n\t\t\t\t\tsearch_from = cur_start.line + 1; // for searching for \"end\"\n\t\t\t\t} else {\n\t\t\t\t\tblock_end = cur_start.line;\n\t\t\t\t\tsearch_from = cur_start.line - 1; // for searching for \"start\"\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(block_start === undefined) {\n\t\t\t\tfor(block_start = search_from; block_start >= 0; block_start--) {\n\t\t\t\t\tline = cm.getLineHandle(block_start);\n\t\t\t\t\tif(fencing_line(line)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(block_end === undefined) {\n\t\t\t\tlineCount = cm.lineCount();\n\t\t\t\tfor(block_end = search_from; block_end < lineCount; block_end++) {\n\t\t\t\t\tline = cm.getLineHandle(block_end);\n\t\t\t\t\tif(fencing_line(line)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcm.operation(function() {\n\t\t\t\tcm.replaceRange(\"\", {\n\t\t\t\t\tline: block_start,\n\t\t\t\t\tch: 0\n\t\t\t\t}, {\n\t\t\t\t\tline: block_start + 1,\n\t\t\t\t\tch: 0\n\t\t\t\t});\n\t\t\t\tcm.replaceRange(\"\", {\n\t\t\t\t\tline: block_end - 1,\n\t\t\t\t\tch: 0\n\t\t\t\t}, {\n\t\t\t\t\tline: block_end,\n\t\t\t\t\tch: 0\n\t\t\t\t});\n\t\t\t});\n\t\t\tcm.focus();\n\t\t}\n\t} else if(is_code === \"indented\") {\n\t\tif(cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n\t\t\t// use selection\n\t\t\tblock_start = cur_start.line;\n\t\t\tblock_end = cur_end.line;\n\t\t\tif(cur_end.ch === 0) {\n\t\t\t\tblock_end--;\n\t\t\t}\n\t\t} else {\n\t\t\t// no selection, search for ends of this indented block\n\t\t\tfor(block_start = cur_start.line; block_start >= 0; block_start--) {\n\t\t\t\tline = cm.getLineHandle(block_start);\n\t\t\t\tif(line.text.match(/^\\s*$/)) {\n\t\t\t\t\t// empty or all whitespace - keep going\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tif(code_type(cm, block_start, line) !== \"indented\") {\n\t\t\t\t\t\tblock_start += 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlineCount = cm.lineCount();\n\t\t\tfor(block_end = cur_start.line; block_end < lineCount; block_end++) {\n\t\t\t\tline = cm.getLineHandle(block_end);\n\t\t\t\tif(line.text.match(/^\\s*$/)) {\n\t\t\t\t\t// empty or all whitespace - keep going\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tif(code_type(cm, block_end, line) !== \"indented\") {\n\t\t\t\t\t\tblock_end -= 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// if we are going to un-indent based on a selected set of lines, and the next line is indented too, we need to\n\t\t// insert a blank line so that the next line(s) continue to be indented code\n\t\tvar next_line = cm.getLineHandle(block_end + 1),\n\t\t\tnext_line_last_tok = next_line && cm.getTokenAt({\n\t\t\t\tline: block_end + 1,\n\t\t\t\tch: next_line.text.length - 1\n\t\t\t}),\n\t\t\tnext_line_indented = next_line_last_tok && token_state(next_line_last_tok).indentedCode;\n\t\tif(next_line_indented) {\n\t\t\tcm.replaceRange(\"\\n\", {\n\t\t\t\tline: block_end + 1,\n\t\t\t\tch: 0\n\t\t\t});\n\t\t}\n\n\t\tfor(var i = block_start; i <= block_end; i++) {\n\t\t\tcm.indentLine(i, \"subtract\"); // TODO: this doesn't get tracked in the history, so can't be undone :(\n\t\t}\n\t\tcm.focus();\n\t} else {\n\t\t// insert code formatting\n\t\tvar no_sel_and_starting_of_line = (cur_start.line === cur_end.line && cur_start.ch === cur_end.ch && cur_start.ch === 0);\n\t\tvar sel_multi = cur_start.line !== cur_end.line;\n\t\tif(no_sel_and_starting_of_line || sel_multi) {\n\t\t\tinsertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert);\n\t\t} else {\n\t\t\t_replaceSelection(cm, false, [\"`\", \"`\"]);\n\t\t}\n\t}\n}\n\n/**\n * Action for toggling blockquote.\n */\nfunction toggleBlockquote(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleLine(cm, \"quote\");\n}\n\n/**\n * Action for toggling heading size: normal -> h1 -> h2 -> h3 -> h4 -> h5 -> h6 -> normal\n */\nfunction toggleHeadingSmaller(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleHeading(cm, \"smaller\");\n}\n\n/**\n * Action for toggling heading size: normal -> h6 -> h5 -> h4 -> h3 -> h2 -> h1 -> normal\n */\nfunction toggleHeadingBigger(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleHeading(cm, \"bigger\");\n}\n\n/**\n * Action for toggling heading size 1\n */\nfunction toggleHeading1(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleHeading(cm, undefined, 1);\n}\n\n/**\n * Action for toggling heading size 2\n */\nfunction toggleHeading2(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleHeading(cm, undefined, 2);\n}\n\n/**\n * Action for toggling heading size 3\n */\nfunction toggleHeading3(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleHeading(cm, undefined, 3);\n}\n\n\n/**\n * Action for toggling ul.\n */\nfunction toggleUnorderedList(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleLine(cm, \"unordered-list\");\n}\n\n\n/**\n * Action for toggling ol.\n */\nfunction toggleOrderedList(editor) {\n\tvar cm = editor.codemirror;\n\t_toggleLine(cm, \"ordered-list\");\n}\n\n/**\n * Action for clean block (remove headline, list, blockquote code, markers)\n */\nfunction cleanBlock(editor) {\n\tvar cm = editor.codemirror;\n\t_cleanBlock(cm);\n}\n\n/**\n * Action for drawing a link.\n */\nfunction drawLink(editor) {\n\tvar cm = editor.codemirror;\n\tvar stat = getState(cm);\n\tvar options = editor.options;\n\tvar url = \"http://\";\n\tif(options.promptURLs) {\n\t\turl = prompt(options.promptTexts.link);\n\t\tif(!url) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t_replaceSelection(cm, stat.link, options.insertTexts.link, url);\n}\n\n/**\n * Action for drawing an img.\n */\nfunction drawImage(editor) {\n\tvar cm = editor.codemirror;\n\tvar stat = getState(cm);\n\tvar options = editor.options;\n\tvar url = \"http://\";\n\tif(options.promptURLs) {\n\t\turl = prompt(options.promptTexts.image);\n\t\tif(!url) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t_replaceSelection(cm, stat.image, options.insertTexts.image, url);\n}\n\n/**\n * Action for drawing a table.\n */\nfunction drawTable(editor) {\n\tvar cm = editor.codemirror;\n\tvar stat = getState(cm);\n\tvar options = editor.options;\n\t_replaceSelection(cm, stat.table, options.insertTexts.table);\n}\n\n/**\n * Action for drawing a horizontal rule.\n */\nfunction drawHorizontalRule(editor) {\n\tvar cm = editor.codemirror;\n\tvar stat = getState(cm);\n\tvar options = editor.options;\n\t_replaceSelection(cm, stat.image, options.insertTexts.horizontalRule);\n}\n\n\n/**\n * Undo action.\n */\nfunction undo(editor) {\n\tvar cm = editor.codemirror;\n\tcm.undo();\n\tcm.focus();\n}\n\n\n/**\n * Redo action.\n */\nfunction redo(editor) {\n\tvar cm = editor.codemirror;\n\tcm.redo();\n\tcm.focus();\n}\n\n\n/**\n * Toggle side by side preview\n */\nfunction toggleSideBySide(editor) {\n\tvar cm = editor.codemirror;\n\tvar wrapper = cm.getWrapperElement();\n\tvar preview = wrapper.nextSibling;\n\tvar toolbarButton = editor.toolbarElements[\"side-by-side\"];\n\tvar useSideBySideListener = false;\n\tif(/editor-preview-active-side/.test(preview.className)) {\n\t\tpreview.className = preview.className.replace(\n\t\t\t/\\s*editor-preview-active-side\\s*/g, \"\"\n\t\t);\n\t\ttoolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, \"\");\n\t\twrapper.className = wrapper.className.replace(/\\s*CodeMirror-sided\\s*/g, \" \");\n\t} else {\n\t\t// When the preview button is clicked for the first time,\n\t\t// give some time for the transition from editor.css to fire and the view to slide from right to left,\n\t\t// instead of just appearing.\n\t\tsetTimeout(function() {\n\t\t\tif(!cm.getOption(\"fullScreen\"))\n\t\t\t\ttoggleFullScreen(editor);\n\t\t\tpreview.className += \" editor-preview-active-side\";\n\t\t}, 1);\n\t\ttoolbarButton.className += \" active\";\n\t\twrapper.className += \" CodeMirror-sided\";\n\t\tuseSideBySideListener = true;\n\t}\n\n\t// Hide normal preview if active\n\tvar previewNormal = wrapper.lastChild;\n\tif(/editor-preview-active/.test(previewNormal.className)) {\n\t\tpreviewNormal.className = previewNormal.className.replace(\n\t\t\t/\\s*editor-preview-active\\s*/g, \"\"\n\t\t);\n\t\tvar toolbar = editor.toolbarElements.preview;\n\t\tvar toolbar_div = wrapper.previousSibling;\n\t\ttoolbar.className = toolbar.className.replace(/\\s*active\\s*/g, \"\");\n\t\ttoolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, \"\");\n\t}\n\n\tvar sideBySideRenderingFunction = function() {\n\t\tpreview.innerHTML = editor.options.previewRender(editor.value(), preview);\n\t};\n\n\tif(!cm.sideBySideRenderingFunction) {\n\t\tcm.sideBySideRenderingFunction = sideBySideRenderingFunction;\n\t}\n\n\tif(useSideBySideListener) {\n\t\tpreview.innerHTML = editor.options.previewRender(editor.value(), preview);\n\t\tcm.on(\"update\", cm.sideBySideRenderingFunction);\n\t} else {\n\t\tcm.off(\"update\", cm.sideBySideRenderingFunction);\n\t}\n\n\t// Refresh to fix selection being off (#309)\n\tcm.refresh();\n}\n\n\n/**\n * Preview action.\n */\nfunction togglePreview(editor) {\n\tvar cm = editor.codemirror;\n\tvar wrapper = cm.getWrapperElement();\n\tvar toolbar_div = wrapper.previousSibling;\n\tvar toolbar = editor.options.toolbar ? editor.toolbarElements.preview : false;\n\tvar preview = wrapper.lastChild;\n\tif(!preview || !/editor-preview/.test(preview.className)) {\n\t\tpreview = document.createElement(\"div\");\n\t\tpreview.className = \"editor-preview\";\n\t\twrapper.appendChild(preview);\n\t}\n\tif(/editor-preview-active/.test(preview.className)) {\n\t\tpreview.className = preview.className.replace(\n\t\t\t/\\s*editor-preview-active\\s*/g, \"\"\n\t\t);\n\t\tif(toolbar) {\n\t\t\ttoolbar.className = toolbar.className.replace(/\\s*active\\s*/g, \"\");\n\t\t\ttoolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, \"\");\n\t\t}\n\t} else {\n\t\t// When the preview button is clicked for the first time,\n\t\t// give some time for the transition from editor.css to fire and the view to slide from right to left,\n\t\t// instead of just appearing.\n\t\tsetTimeout(function() {\n\t\t\tpreview.className += \" editor-preview-active\";\n\t\t}, 1);\n\t\tif(toolbar) {\n\t\t\ttoolbar.className += \" active\";\n\t\t\ttoolbar_div.className += \" disabled-for-preview\";\n\t\t}\n\t}\n\tpreview.innerHTML = editor.options.previewRender(editor.value(), preview);\n\n\t// Turn off side by side if needed\n\tvar sidebyside = cm.getWrapperElement().nextSibling;\n\tif(/editor-preview-active-side/.test(sidebyside.className))\n\t\ttoggleSideBySide(editor);\n}\n\nfunction _replaceSelection(cm, active, startEnd, url) {\n\tif(/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n\t\treturn;\n\n\tvar text;\n\tvar start = startEnd[0];\n\tvar end = startEnd[1];\n\tvar startPoint = cm.getCursor(\"start\");\n\tvar endPoint = cm.getCursor(\"end\");\n\tif(url) {\n\t\tend = end.replace(\"#url#\", url);\n\t}\n\tif(active) {\n\t\ttext = cm.getLine(startPoint.line);\n\t\tstart = text.slice(0, startPoint.ch);\n\t\tend = text.slice(startPoint.ch);\n\t\tcm.replaceRange(start + end, {\n\t\t\tline: startPoint.line,\n\t\t\tch: 0\n\t\t});\n\t} else {\n\t\ttext = cm.getSelection();\n\t\tcm.replaceSelection(start + text + end);\n\n\t\tstartPoint.ch += start.length;\n\t\tif(startPoint !== endPoint) {\n\t\t\tendPoint.ch += start.length;\n\t\t}\n\t}\n\tcm.setSelection(startPoint, endPoint);\n\tcm.focus();\n}\n\n\nfunction _toggleHeading(cm, direction, size) {\n\tif(/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n\t\treturn;\n\n\tvar startPoint = cm.getCursor(\"start\");\n\tvar endPoint = cm.getCursor(\"end\");\n\tfor(var i = startPoint.line; i <= endPoint.line; i++) {\n\t\t(function(i) {\n\t\t\tvar text = cm.getLine(i);\n\t\t\tvar currHeadingLevel = text.search(/[^#]/);\n\n\t\t\tif(direction !== undefined) {\n\t\t\t\tif(currHeadingLevel <= 0) {\n\t\t\t\t\tif(direction == \"bigger\") {\n\t\t\t\t\t\ttext = \"###### \" + text;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = \"# \" + text;\n\t\t\t\t\t}\n\t\t\t\t} else if(currHeadingLevel == 6 && direction == \"smaller\") {\n\t\t\t\t\ttext = text.substr(7);\n\t\t\t\t} else if(currHeadingLevel == 1 && direction == \"bigger\") {\n\t\t\t\t\ttext = text.substr(2);\n\t\t\t\t} else {\n\t\t\t\t\tif(direction == \"bigger\") {\n\t\t\t\t\t\ttext = text.substr(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = \"#\" + text;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(size == 1) {\n\t\t\t\t\tif(currHeadingLevel <= 0) {\n\t\t\t\t\t\ttext = \"# \" + text;\n\t\t\t\t\t} else if(currHeadingLevel == size) {\n\t\t\t\t\t\ttext = text.substr(currHeadingLevel + 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = \"# \" + text.substr(currHeadingLevel + 1);\n\t\t\t\t\t}\n\t\t\t\t} else if(size == 2) {\n\t\t\t\t\tif(currHeadingLevel <= 0) {\n\t\t\t\t\t\ttext = \"## \" + text;\n\t\t\t\t\t} else if(currHeadingLevel == size) {\n\t\t\t\t\t\ttext = text.substr(currHeadingLevel + 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = \"## \" + text.substr(currHeadingLevel + 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(currHeadingLevel <= 0) {\n\t\t\t\t\t\ttext = \"### \" + text;\n\t\t\t\t\t} else if(currHeadingLevel == size) {\n\t\t\t\t\t\ttext = text.substr(currHeadingLevel + 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = \"### \" + text.substr(currHeadingLevel + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcm.replaceRange(text, {\n\t\t\t\tline: i,\n\t\t\t\tch: 0\n\t\t\t}, {\n\t\t\t\tline: i,\n\t\t\t\tch: 99999999999999\n\t\t\t});\n\t\t})(i);\n\t}\n\tcm.focus();\n}\n\n\nfunction _toggleLine(cm, name) {\n\tif(/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n\t\treturn;\n\n\tvar stat = getState(cm);\n\tvar startPoint = cm.getCursor(\"start\");\n\tvar endPoint = cm.getCursor(\"end\");\n\tvar repl = {\n\t\t\"quote\": /^(\\s*)\\>\\s+/,\n\t\t\"unordered-list\": /^(\\s*)(\\*|\\-|\\+)\\s+/,\n\t\t\"ordered-list\": /^(\\s*)\\d+\\.\\s+/\n\t};\n\tvar map = {\n\t\t\"quote\": \"> \",\n\t\t\"unordered-list\": \"* \",\n\t\t\"ordered-list\": \"1. \"\n\t};\n\tfor(var i = startPoint.line; i <= endPoint.line; i++) {\n\t\t(function(i) {\n\t\t\tvar text = cm.getLine(i);\n\t\t\tif(stat[name]) {\n\t\t\t\ttext = text.replace(repl[name], \"$1\");\n\t\t\t} else {\n\t\t\t\ttext = map[name] + text;\n\t\t\t}\n\t\t\tcm.replaceRange(text, {\n\t\t\t\tline: i,\n\t\t\t\tch: 0\n\t\t\t}, {\n\t\t\t\tline: i,\n\t\t\t\tch: 99999999999999\n\t\t\t});\n\t\t})(i);\n\t}\n\tcm.focus();\n}\n\nfunction _toggleBlock(editor, type, start_chars, end_chars) {\n\tif(/editor-preview-active/.test(editor.codemirror.getWrapperElement().lastChild.className))\n\t\treturn;\n\n\tend_chars = (typeof end_chars === \"undefined\") ? start_chars : end_chars;\n\tvar cm = editor.codemirror;\n\tvar stat = getState(cm);\n\n\tvar text;\n\tvar start = start_chars;\n\tvar end = end_chars;\n\n\tvar startPoint = cm.getCursor(\"start\");\n\tvar endPoint = cm.getCursor(\"end\");\n\n\tif(stat[type]) {\n\t\ttext = cm.getLine(startPoint.line);\n\t\tstart = text.slice(0, startPoint.ch);\n\t\tend = text.slice(startPoint.ch);\n\t\tif(type == \"bold\") {\n\t\t\tstart = start.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/, \"\");\n\t\t\tend = end.replace(/(\\*\\*|__)/, \"\");\n\t\t} else if(type == \"italic\") {\n\t\t\tstart = start.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/, \"\");\n\t\t\tend = end.replace(/(\\*|_)/, \"\");\n\t\t} else if(type == \"strikethrough\") {\n\t\t\tstart = start.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/, \"\");\n\t\t\tend = end.replace(/(\\*\\*|~~)/, \"\");\n\t\t}\n\t\tcm.replaceRange(start + end, {\n\t\t\tline: startPoint.line,\n\t\t\tch: 0\n\t\t}, {\n\t\t\tline: startPoint.line,\n\t\t\tch: 99999999999999\n\t\t});\n\n\t\tif(type == \"bold\" || type == \"strikethrough\") {\n\t\t\tstartPoint.ch -= 2;\n\t\t\tif(startPoint !== endPoint) {\n\t\t\t\tendPoint.ch -= 2;\n\t\t\t}\n\t\t} else if(type == \"italic\") {\n\t\t\tstartPoint.ch -= 1;\n\t\t\tif(startPoint !== endPoint) {\n\t\t\t\tendPoint.ch -= 1;\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttext = cm.getSelection();\n\t\tif(type == \"bold\") {\n\t\t\ttext = text.split(\"**\").join(\"\");\n\t\t\ttext = text.split(\"__\").join(\"\");\n\t\t} else if(type == \"italic\") {\n\t\t\ttext = text.split(\"*\").join(\"\");\n\t\t\ttext = text.split(\"_\").join(\"\");\n\t\t} else if(type == \"strikethrough\") {\n\t\t\ttext = text.split(\"~~\").join(\"\");\n\t\t}\n\t\tcm.replaceSelection(start + text + end);\n\n\t\tstartPoint.ch += start_chars.length;\n\t\tendPoint.ch = startPoint.ch + text.length;\n\t}\n\n\tcm.setSelection(startPoint, endPoint);\n\tcm.focus();\n}\n\nfunction _cleanBlock(cm) {\n\tif(/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n\t\treturn;\n\n\tvar startPoint = cm.getCursor(\"start\");\n\tvar endPoint = cm.getCursor(\"end\");\n\tvar text;\n\n\tfor(var line = startPoint.line; line <= endPoint.line; line++) {\n\t\ttext = cm.getLine(line);\n\t\ttext = text.replace(/^[ ]*([# ]+|\\*|\\-|[> ]+|[0-9]+(.|\\)))[ ]*/, \"\");\n\n\t\tcm.replaceRange(text, {\n\t\t\tline: line,\n\t\t\tch: 0\n\t\t}, {\n\t\t\tline: line,\n\t\t\tch: 99999999999999\n\t\t});\n\t}\n}\n\n// Merge the properties of one object into another.\nfunction _mergeProperties(target, source) {\n\tfor(var property in source) {\n\t\tif(source.hasOwnProperty(property)) {\n\t\t\tif(source[property] instanceof Array) {\n\t\t\t\ttarget[property] = source[property].concat(target[property] instanceof Array ? target[property] : []);\n\t\t\t} else if(\n\t\t\t\tsource[property] !== null &&\n\t\t\t\ttypeof source[property] === \"object\" &&\n\t\t\t\tsource[property].constructor === Object\n\t\t\t) {\n\t\t\t\ttarget[property] = _mergeProperties(target[property] || {}, source[property]);\n\t\t\t} else {\n\t\t\t\ttarget[property] = source[property];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn target;\n}\n\n// Merge an arbitrary number of objects into one.\nfunction extend(target) {\n\tfor(var i = 1; i < arguments.length; i++) {\n\t\ttarget = _mergeProperties(target, arguments[i]);\n\t}\n\n\treturn target;\n}\n\n/* The right word count in respect for CJK. */\nfunction wordCount(data) {\n\tvar pattern = /[a-zA-Z0-9_\\u0392-\\u03c9\\u0410-\\u04F9]+|[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af]+/g;\n\tvar m = data.match(pattern);\n\tvar count = 0;\n\tif(m === null) return count;\n\tfor(var i = 0; i < m.length; i++) {\n\t\tif(m[i].charCodeAt(0) >= 0x4E00) {\n\t\t\tcount += m[i].length;\n\t\t} else {\n\t\t\tcount += 1;\n\t\t}\n\t}\n\treturn count;\n}\n\nvar toolbarBuiltInButtons = {\n\t\"bold\": {\n\t\tname: \"bold\",\n\t\taction: toggleBold,\n\t\tclassName: \"fa fa-bold\",\n\t\ttitle: \"Bold\",\n\t\tdefault: true\n\t},\n\t\"italic\": {\n\t\tname: \"italic\",\n\t\taction: toggleItalic,\n\t\tclassName: \"fa fa-italic\",\n\t\ttitle: \"Italic\",\n\t\tdefault: true\n\t},\n\t\"strikethrough\": {\n\t\tname: \"strikethrough\",\n\t\taction: toggleStrikethrough,\n\t\tclassName: \"fa fa-strikethrough\",\n\t\ttitle: \"Strikethrough\"\n\t},\n\t\"heading\": {\n\t\tname: \"heading\",\n\t\taction: toggleHeadingSmaller,\n\t\tclassName: \"fa fa-header\",\n\t\ttitle: \"Heading\",\n\t\tdefault: true\n\t},\n\t\"heading-smaller\": {\n\t\tname: \"heading-smaller\",\n\t\taction: toggleHeadingSmaller,\n\t\tclassName: \"fa fa-header fa-header-x fa-header-smaller\",\n\t\ttitle: \"Smaller Heading\"\n\t},\n\t\"heading-bigger\": {\n\t\tname: \"heading-bigger\",\n\t\taction: toggleHeadingBigger,\n\t\tclassName: \"fa fa-header fa-header-x fa-header-bigger\",\n\t\ttitle: \"Bigger Heading\"\n\t},\n\t\"heading-1\": {\n\t\tname: \"heading-1\",\n\t\taction: toggleHeading1,\n\t\tclassName: \"fa fa-header fa-header-x fa-header-1\",\n\t\ttitle: \"Big Heading\"\n\t},\n\t\"heading-2\": {\n\t\tname: \"heading-2\",\n\t\taction: toggleHeading2,\n\t\tclassName: \"fa fa-header fa-header-x fa-header-2\",\n\t\ttitle: \"Medium Heading\"\n\t},\n\t\"heading-3\": {\n\t\tname: \"heading-3\",\n\t\taction: toggleHeading3,\n\t\tclassName: \"fa fa-header fa-header-x fa-header-3\",\n\t\ttitle: \"Small Heading\"\n\t},\n\t\"separator-1\": {\n\t\tname: \"separator-1\"\n\t},\n\t\"code\": {\n\t\tname: \"code\",\n\t\taction: toggleCodeBlock,\n\t\tclassName: \"fa fa-code\",\n\t\ttitle: \"Code\"\n\t},\n\t\"quote\": {\n\t\tname: \"quote\",\n\t\taction: toggleBlockquote,\n\t\tclassName: \"fa fa-quote-left\",\n\t\ttitle: \"Quote\",\n\t\tdefault: true\n\t},\n\t\"unordered-list\": {\n\t\tname: \"unordered-list\",\n\t\taction: toggleUnorderedList,\n\t\tclassName: \"fa fa-list-ul\",\n\t\ttitle: \"Generic List\",\n\t\tdefault: true\n\t},\n\t\"ordered-list\": {\n\t\tname: \"ordered-list\",\n\t\taction: toggleOrderedList,\n\t\tclassName: \"fa fa-list-ol\",\n\t\ttitle: \"Numbered List\",\n\t\tdefault: true\n\t},\n\t\"clean-block\": {\n\t\tname: \"clean-block\",\n\t\taction: cleanBlock,\n\t\tclassName: \"fa fa-eraser fa-clean-block\",\n\t\ttitle: \"Clean block\"\n\t},\n\t\"separator-2\": {\n\t\tname: \"separator-2\"\n\t},\n\t\"link\": {\n\t\tname: \"link\",\n\t\taction: drawLink,\n\t\tclassName: \"fa fa-link\",\n\t\ttitle: \"Create Link\",\n\t\tdefault: true\n\t},\n\t\"image\": {\n\t\tname: \"image\",\n\t\taction: drawImage,\n\t\tclassName: \"fa fa-picture-o\",\n\t\ttitle: \"Insert Image\",\n\t\tdefault: true\n\t},\n\t\"table\": {\n\t\tname: \"table\",\n\t\taction: drawTable,\n\t\tclassName: \"fa fa-table\",\n\t\ttitle: \"Insert Table\"\n\t},\n\t\"horizontal-rule\": {\n\t\tname: \"horizontal-rule\",\n\t\taction: drawHorizontalRule,\n\t\tclassName: \"fa fa-minus\",\n\t\ttitle: \"Insert Horizontal Line\"\n\t},\n\t\"separator-3\": {\n\t\tname: \"separator-3\"\n\t},\n\t\"preview\": {\n\t\tname: \"preview\",\n\t\taction: togglePreview,\n\t\tclassName: \"fa fa-eye no-disable\",\n\t\ttitle: \"Toggle Preview\",\n\t\tdefault: true\n\t},\n\t\"side-by-side\": {\n\t\tname: \"side-by-side\",\n\t\taction: toggleSideBySide,\n\t\tclassName: \"fa fa-columns no-disable no-mobile\",\n\t\ttitle: \"Toggle Side by Side\",\n\t\tdefault: true\n\t},\n\t\"fullscreen\": {\n\t\tname: \"fullscreen\",\n\t\taction: toggleFullScreen,\n\t\tclassName: \"fa fa-arrows-alt no-disable no-mobile\",\n\t\ttitle: \"Toggle Fullscreen\",\n\t\tdefault: true\n\t},\n\t\"separator-4\": {\n\t\tname: \"separator-4\"\n\t},\n\t\"guide\": {\n\t\tname: \"guide\",\n\t\taction: \"https://simplemde.com/markdown-guide\",\n\t\tclassName: \"fa fa-question-circle\",\n\t\ttitle: \"Markdown Guide\",\n\t\tdefault: true\n\t},\n\t\"separator-5\": {\n\t\tname: \"separator-5\"\n\t},\n\t\"undo\": {\n\t\tname: \"undo\",\n\t\taction: undo,\n\t\tclassName: \"fa fa-undo no-disable\",\n\t\ttitle: \"Undo\"\n\t},\n\t\"redo\": {\n\t\tname: \"redo\",\n\t\taction: redo,\n\t\tclassName: \"fa fa-repeat no-disable\",\n\t\ttitle: \"Redo\"\n\t}\n};\n\nvar insertTexts = {\n\tlink: [\"[\", \"](#url#)\"],\n\timage: [\"![](\", \"#url#)\"],\n\ttable: [\"\", \"\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text     | Text     |\\n\\n\"],\n\thorizontalRule: [\"\", \"\\n\\n-----\\n\\n\"]\n};\n\nvar promptTexts = {\n\tlink: \"URL for the link:\",\n\timage: \"URL of the image:\"\n};\n\nvar blockStyles = {\n\t\"bold\": \"**\",\n\t\"code\": \"```\",\n\t\"italic\": \"*\"\n};\n\n/**\n * Interface of SimpleMDE.\n */\nfunction SimpleMDE(options) {\n\t// Handle options parameter\n\toptions = options || {};\n\n\n\t// Used later to refer to it\"s parent\n\toptions.parent = this;\n\n\n\t// Check if Font Awesome needs to be auto downloaded\n\tvar autoDownloadFA = true;\n\n\tif(options.autoDownloadFontAwesome === false) {\n\t\tautoDownloadFA = false;\n\t}\n\n\tif(options.autoDownloadFontAwesome !== true) {\n\t\tvar styleSheets = document.styleSheets;\n\t\tfor(var i = 0; i < styleSheets.length; i++) {\n\t\t\tif(!styleSheets[i].href)\n\t\t\t\tcontinue;\n\n\t\t\tif(styleSheets[i].href.indexOf(\"//maxcdn.bootstrapcdn.com/font-awesome/\") > -1) {\n\t\t\t\tautoDownloadFA = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(autoDownloadFA) {\n\t\tvar link = document.createElement(\"link\");\n\t\tlink.rel = \"stylesheet\";\n\t\tlink.href = \"https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css\";\n\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(link);\n\t}\n\n\n\t// Find the textarea to use\n\tif(options.element) {\n\t\tthis.element = options.element;\n\t} else if(options.element === null) {\n\t\t// This means that the element option was specified, but no element was found\n\t\tconsole.log(\"SimpleMDE: Error. No element was found.\");\n\t\treturn;\n\t}\n\n\n\t// Handle toolbar\n\tif(options.toolbar === undefined) {\n\t\t// Initialize\n\t\toptions.toolbar = [];\n\n\n\t\t// Loop over the built in buttons, to get the preferred order\n\t\tfor(var key in toolbarBuiltInButtons) {\n\t\t\tif(toolbarBuiltInButtons.hasOwnProperty(key)) {\n\t\t\t\tif(key.indexOf(\"separator-\") != -1) {\n\t\t\t\t\toptions.toolbar.push(\"|\");\n\t\t\t\t}\n\n\t\t\t\tif(toolbarBuiltInButtons[key].default === true || (options.showIcons && options.showIcons.constructor === Array && options.showIcons.indexOf(key) != -1)) {\n\t\t\t\t\toptions.toolbar.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// Handle status bar\n\tif(!options.hasOwnProperty(\"status\")) {\n\t\toptions.status = [\"autosave\", \"lines\", \"words\", \"cursor\"];\n\t}\n\n\n\t// Add default preview rendering function\n\tif(!options.previewRender) {\n\t\toptions.previewRender = function(plainText) {\n\t\t\t// Note: \"this\" refers to the options object\n\t\t\treturn this.parent.markdown(plainText);\n\t\t};\n\t}\n\n\n\t// Set default options for parsing config\n\toptions.parsingConfig = extend({\n\t\thighlightFormatting: true // needed for toggleCodeBlock to detect types of code\n\t}, options.parsingConfig || {});\n\n\n\t// Merging the insertTexts, with the given options\n\toptions.insertTexts = extend({}, insertTexts, options.insertTexts || {});\n\n\n\t// Merging the promptTexts, with the given options\n\toptions.promptTexts = promptTexts;\n\n\n\t// Merging the blockStyles, with the given options\n\toptions.blockStyles = extend({}, blockStyles, options.blockStyles || {});\n\n\n\t// Merging the shortcuts, with the given options\n\toptions.shortcuts = extend({}, shortcuts, options.shortcuts || {});\n\n\n\t// Change unique_id to uniqueId for backwards compatibility\n\tif(options.autosave != undefined && options.autosave.unique_id != undefined && options.autosave.unique_id != \"\")\n\t\toptions.autosave.uniqueId = options.autosave.unique_id;\n\n\n\t// Update this options\n\tthis.options = options;\n\n\n\t// Auto render\n\tthis.render();\n\n\n\t// The codemirror component is only available after rendering\n\t// so, the setter for the initialValue can only run after\n\t// the element has been rendered\n\tif(options.initialValue && (!this.options.autosave || this.options.autosave.foundSavedValue !== true)) {\n\t\tthis.value(options.initialValue);\n\t}\n}\n\n/**\n * Default markdown render.\n */\nSimpleMDE.prototype.markdown = function(text) {\n\tif(marked) {\n\t\t// Initialize\n\t\tvar markedOptions = {};\n\n\n\t\t// Update options\n\t\tif(this.options && this.options.renderingConfig && this.options.renderingConfig.singleLineBreaks === false) {\n\t\t\tmarkedOptions.breaks = false;\n\t\t} else {\n\t\t\tmarkedOptions.breaks = true;\n\t\t}\n\n\t\tif(this.options && this.options.renderingConfig && this.options.renderingConfig.codeSyntaxHighlighting === true && window.hljs) {\n\t\t\tmarkedOptions.highlight = function(code) {\n\t\t\t\treturn window.hljs.highlightAuto(code).value;\n\t\t\t};\n\t\t}\n\n\n\t\t// Set options\n\t\tmarked.setOptions(markedOptions);\n\n\n\t\t// Return\n\t\treturn marked(text);\n\t}\n};\n\n/**\n * Render editor to the given element.\n */\nSimpleMDE.prototype.render = function(el) {\n\tif(!el) {\n\t\tel = this.element || document.getElementsByTagName(\"textarea\")[0];\n\t}\n\n\tif(this._rendered && this._rendered === el) {\n\t\t// Already rendered.\n\t\treturn;\n\t}\n\n\tthis.element = el;\n\tvar options = this.options;\n\n\tvar self = this;\n\tvar keyMaps = {};\n\n\tfor(var key in options.shortcuts) {\n\t\t// null stands for \"do not bind this command\"\n\t\tif(options.shortcuts[key] !== null && bindings[key] !== null) {\n\t\t\t(function(key) {\n\t\t\t\tkeyMaps[fixShortcut(options.shortcuts[key])] = function() {\n\t\t\t\t\tbindings[key](self);\n\t\t\t\t};\n\t\t\t})(key);\n\t\t}\n\t}\n\n\tkeyMaps[\"Enter\"] = \"newlineAndIndentContinueMarkdownList\";\n\tkeyMaps[\"Tab\"] = \"tabAndIndentMarkdownList\";\n\tkeyMaps[\"Shift-Tab\"] = \"shiftTabAndUnindentMarkdownList\";\n\tkeyMaps[\"Esc\"] = function(cm) {\n\t\tif(cm.getOption(\"fullScreen\")) toggleFullScreen(self);\n\t};\n\n\tdocument.addEventListener(\"keydown\", function(e) {\n\t\te = e || window.event;\n\n\t\tif(e.keyCode == 27) {\n\t\t\tif(self.codemirror.getOption(\"fullScreen\")) toggleFullScreen(self);\n\t\t}\n\t}, false);\n\n\tvar mode, backdrop;\n\tif(options.spellChecker !== false) {\n\t\tmode = \"spell-checker\";\n\t\tbackdrop = options.parsingConfig;\n\t\tbackdrop.name = \"gfm\";\n\t\tbackdrop.gitHubSpice = false;\n\n\t\tCodeMirrorSpellChecker({\n\t\t\tcodeMirrorInstance: CodeMirror\n\t\t});\n\t} else {\n\t\tmode = options.parsingConfig;\n\t\tmode.name = \"gfm\";\n\t\tmode.gitHubSpice = false;\n\t}\n\n\tthis.codemirror = CodeMirror.fromTextArea(el, {\n\t\tmode: mode,\n\t\tbackdrop: backdrop,\n\t\ttheme: \"paper\",\n\t\ttabSize: (options.tabSize != undefined) ? options.tabSize : 2,\n\t\tindentUnit: (options.tabSize != undefined) ? options.tabSize : 2,\n\t\tindentWithTabs: (options.indentWithTabs === false) ? false : true,\n\t\tlineNumbers: false,\n\t\tautofocus: (options.autofocus === true) ? true : false,\n\t\textraKeys: keyMaps,\n\t\tlineWrapping: (options.lineWrapping === false) ? false : true,\n\t\tallowDropFileTypes: [\"text/plain\"],\n\t\tplaceholder: options.placeholder || el.getAttribute(\"placeholder\") || \"\",\n\t\tstyleSelectedText: (options.styleSelectedText != undefined) ? options.styleSelectedText : true\n\t});\n\n\tif(options.forceSync === true) {\n\t\tvar cm = this.codemirror;\n\t\tcm.on(\"change\", function() {\n\t\t\tcm.save();\n\t\t});\n\t}\n\n\tthis.gui = {};\n\n\tif(options.toolbar !== false) {\n\t\tthis.gui.toolbar = this.createToolbar();\n\t}\n\tif(options.status !== false) {\n\t\tthis.gui.statusbar = this.createStatusbar();\n\t}\n\tif(options.autosave != undefined && options.autosave.enabled === true) {\n\t\tthis.autosave();\n\t}\n\n\tthis.gui.sideBySide = this.createSideBySide();\n\n\tthis._rendered = this.element;\n\n\n\t// Fixes CodeMirror bug (#344)\n\tvar temp_cm = this.codemirror;\n\tsetTimeout(function() {\n\t\ttemp_cm.refresh();\n\t}.bind(temp_cm), 0);\n};\n\n// Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem throw QuotaExceededError. We're going to detect this and set a variable accordingly.\nfunction isLocalStorageAvailable() {\n\tif(typeof localStorage === \"object\") {\n\t\ttry {\n\t\t\tlocalStorage.setItem(\"smde_localStorage\", 1);\n\t\t\tlocalStorage.removeItem(\"smde_localStorage\");\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nSimpleMDE.prototype.autosave = function() {\n\tif(isLocalStorageAvailable()) {\n\t\tvar simplemde = this;\n\n\t\tif(this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == \"\") {\n\t\t\tconsole.log(\"SimpleMDE: You must set a uniqueId to use the autosave feature\");\n\t\t\treturn;\n\t\t}\n\n\t\tif(simplemde.element.form != null && simplemde.element.form != undefined) {\n\t\t\tsimplemde.element.form.addEventListener(\"submit\", function() {\n\t\t\t\tlocalStorage.removeItem(\"smde_\" + simplemde.options.autosave.uniqueId);\n\t\t\t});\n\t\t}\n\n\t\tif(this.options.autosave.loaded !== true) {\n\t\t\tif(typeof localStorage.getItem(\"smde_\" + this.options.autosave.uniqueId) == \"string\" && localStorage.getItem(\"smde_\" + this.options.autosave.uniqueId) != \"\") {\n\t\t\t\tthis.codemirror.setValue(localStorage.getItem(\"smde_\" + this.options.autosave.uniqueId));\n\t\t\t\tthis.options.autosave.foundSavedValue = true;\n\t\t\t}\n\n\t\t\tthis.options.autosave.loaded = true;\n\t\t}\n\n\t\tlocalStorage.setItem(\"smde_\" + this.options.autosave.uniqueId, simplemde.value());\n\n\t\tvar el = document.getElementById(\"autosaved\");\n\t\tif(el != null && el != undefined && el != \"\") {\n\t\t\tvar d = new Date();\n\t\t\tvar hh = d.getHours();\n\t\t\tvar m = d.getMinutes();\n\t\t\tvar dd = \"am\";\n\t\t\tvar h = hh;\n\t\t\tif(h >= 12) {\n\t\t\t\th = hh - 12;\n\t\t\t\tdd = \"pm\";\n\t\t\t}\n\t\t\tif(h == 0) {\n\t\t\t\th = 12;\n\t\t\t}\n\t\t\tm = m < 10 ? \"0\" + m : m;\n\n\t\t\tel.innerHTML = \"Autosaved: \" + h + \":\" + m + \" \" + dd;\n\t\t}\n\n\t\tthis.autosaveTimeoutId = setTimeout(function() {\n\t\t\tsimplemde.autosave();\n\t\t}, this.options.autosave.delay || 10000);\n\t} else {\n\t\tconsole.log(\"SimpleMDE: localStorage not available, cannot autosave\");\n\t}\n};\n\nSimpleMDE.prototype.clearAutosavedValue = function() {\n\tif(isLocalStorageAvailable()) {\n\t\tif(this.options.autosave == undefined || this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == \"\") {\n\t\t\tconsole.log(\"SimpleMDE: You must set a uniqueId to clear the autosave value\");\n\t\t\treturn;\n\t\t}\n\n\t\tlocalStorage.removeItem(\"smde_\" + this.options.autosave.uniqueId);\n\t} else {\n\t\tconsole.log(\"SimpleMDE: localStorage not available, cannot autosave\");\n\t}\n};\n\nSimpleMDE.prototype.createSideBySide = function() {\n\tvar cm = this.codemirror;\n\tvar wrapper = cm.getWrapperElement();\n\tvar preview = wrapper.nextSibling;\n\n\tif(!preview || !/editor-preview-side/.test(preview.className)) {\n\t\tpreview = document.createElement(\"div\");\n\t\tpreview.className = \"editor-preview-side\";\n\t\twrapper.parentNode.insertBefore(preview, wrapper.nextSibling);\n\t}\n\n\t// Syncs scroll  editor -> preview\n\tvar cScroll = false;\n\tvar pScroll = false;\n\tcm.on(\"scroll\", function(v) {\n\t\tif(cScroll) {\n\t\t\tcScroll = false;\n\t\t\treturn;\n\t\t}\n\t\tpScroll = true;\n\t\tvar height = v.getScrollInfo().height - v.getScrollInfo().clientHeight;\n\t\tvar ratio = parseFloat(v.getScrollInfo().top) / height;\n\t\tvar move = (preview.scrollHeight - preview.clientHeight) * ratio;\n\t\tpreview.scrollTop = move;\n\t});\n\n\t// Syncs scroll  preview -> editor\n\tpreview.onscroll = function() {\n\t\tif(pScroll) {\n\t\t\tpScroll = false;\n\t\t\treturn;\n\t\t}\n\t\tcScroll = true;\n\t\tvar height = preview.scrollHeight - preview.clientHeight;\n\t\tvar ratio = parseFloat(preview.scrollTop) / height;\n\t\tvar move = (cm.getScrollInfo().height - cm.getScrollInfo().clientHeight) * ratio;\n\t\tcm.scrollTo(0, move);\n\t};\n\treturn preview;\n};\n\nSimpleMDE.prototype.createToolbar = function(items) {\n\titems = items || this.options.toolbar;\n\n\tif(!items || items.length === 0) {\n\t\treturn;\n\t}\n\tvar i;\n\tfor(i = 0; i < items.length; i++) {\n\t\tif(toolbarBuiltInButtons[items[i]] != undefined) {\n\t\t\titems[i] = toolbarBuiltInButtons[items[i]];\n\t\t}\n\t}\n\n\tvar bar = document.createElement(\"div\");\n\tbar.className = \"editor-toolbar\";\n\n\tvar self = this;\n\n\tvar toolbarData = {};\n\tself.toolbar = items;\n\n\tfor(i = 0; i < items.length; i++) {\n\t\tif(items[i].name == \"guide\" && self.options.toolbarGuideIcon === false)\n\t\t\tcontinue;\n\n\t\tif(self.options.hideIcons && self.options.hideIcons.indexOf(items[i].name) != -1)\n\t\t\tcontinue;\n\n\t\t// Fullscreen does not work well on mobile devices (even tablets)\n\t\t// In the future, hopefully this can be resolved\n\t\tif((items[i].name == \"fullscreen\" || items[i].name == \"side-by-side\") && isMobile())\n\t\t\tcontinue;\n\n\n\t\t// Don't include trailing separators\n\t\tif(items[i] === \"|\") {\n\t\t\tvar nonSeparatorIconsFollow = false;\n\n\t\t\tfor(var x = (i + 1); x < items.length; x++) {\n\t\t\t\tif(items[x] !== \"|\" && (!self.options.hideIcons || self.options.hideIcons.indexOf(items[x].name) == -1)) {\n\t\t\t\t\tnonSeparatorIconsFollow = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!nonSeparatorIconsFollow)\n\t\t\t\tcontinue;\n\t\t}\n\n\n\t\t// Create the icon and append to the toolbar\n\t\t(function(item) {\n\t\t\tvar el;\n\t\t\tif(item === \"|\") {\n\t\t\t\tel = createSep();\n\t\t\t} else {\n\t\t\t\tel = createIcon(item, self.options.toolbarTips, self.options.shortcuts);\n\t\t\t}\n\n\t\t\t// bind events, special for info\n\t\t\tif(item.action) {\n\t\t\t\tif(typeof item.action === \"function\") {\n\t\t\t\t\tel.onclick = function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\titem.action(self);\n\t\t\t\t\t};\n\t\t\t\t} else if(typeof item.action === \"string\") {\n\t\t\t\t\tel.href = item.action;\n\t\t\t\t\tel.target = \"_blank\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttoolbarData[item.name || item] = el;\n\t\t\tbar.appendChild(el);\n\t\t})(items[i]);\n\t}\n\n\tself.toolbarElements = toolbarData;\n\n\tvar cm = this.codemirror;\n\tcm.on(\"cursorActivity\", function() {\n\t\tvar stat = getState(cm);\n\n\t\tfor(var key in toolbarData) {\n\t\t\t(function(key) {\n\t\t\t\tvar el = toolbarData[key];\n\t\t\t\tif(stat[key]) {\n\t\t\t\t\tel.className += \" active\";\n\t\t\t\t} else if(key != \"fullscreen\" && key != \"side-by-side\") {\n\t\t\t\t\tel.className = el.className.replace(/\\s*active\\s*/g, \"\");\n\t\t\t\t}\n\t\t\t})(key);\n\t\t}\n\t});\n\n\tvar cmWrapper = cm.getWrapperElement();\n\tcmWrapper.parentNode.insertBefore(bar, cmWrapper);\n\treturn bar;\n};\n\nSimpleMDE.prototype.createStatusbar = function(status) {\n\t// Initialize\n\tstatus = status || this.options.status;\n\tvar options = this.options;\n\tvar cm = this.codemirror;\n\n\n\t// Make sure the status variable is valid\n\tif(!status || status.length === 0)\n\t\treturn;\n\n\n\t// Set up the built-in items\n\tvar items = [];\n\tvar i, onUpdate, defaultValue;\n\n\tfor(i = 0; i < status.length; i++) {\n\t\t// Reset some values\n\t\tonUpdate = undefined;\n\t\tdefaultValue = undefined;\n\n\n\t\t// Handle if custom or not\n\t\tif(typeof status[i] === \"object\") {\n\t\t\titems.push({\n\t\t\t\tclassName: status[i].className,\n\t\t\t\tdefaultValue: status[i].defaultValue,\n\t\t\t\tonUpdate: status[i].onUpdate\n\t\t\t});\n\t\t} else {\n\t\t\tvar name = status[i];\n\n\t\t\tif(name === \"words\") {\n\t\t\t\tdefaultValue = function(el) {\n\t\t\t\t\tel.innerHTML = wordCount(cm.getValue());\n\t\t\t\t};\n\t\t\t\tonUpdate = function(el) {\n\t\t\t\t\tel.innerHTML = wordCount(cm.getValue());\n\t\t\t\t};\n\t\t\t} else if(name === \"lines\") {\n\t\t\t\tdefaultValue = function(el) {\n\t\t\t\t\tel.innerHTML = cm.lineCount();\n\t\t\t\t};\n\t\t\t\tonUpdate = function(el) {\n\t\t\t\t\tel.innerHTML = cm.lineCount();\n\t\t\t\t};\n\t\t\t} else if(name === \"cursor\") {\n\t\t\t\tdefaultValue = function(el) {\n\t\t\t\t\tel.innerHTML = \"0:0\";\n\t\t\t\t};\n\t\t\t\tonUpdate = function(el) {\n\t\t\t\t\tvar pos = cm.getCursor();\n\t\t\t\t\tel.innerHTML = pos.line + \":\" + pos.ch;\n\t\t\t\t};\n\t\t\t} else if(name === \"autosave\") {\n\t\t\t\tdefaultValue = function(el) {\n\t\t\t\t\tif(options.autosave != undefined && options.autosave.enabled === true) {\n\t\t\t\t\t\tel.setAttribute(\"id\", \"autosaved\");\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\titems.push({\n\t\t\t\tclassName: name,\n\t\t\t\tdefaultValue: defaultValue,\n\t\t\t\tonUpdate: onUpdate\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// Create element for the status bar\n\tvar bar = document.createElement(\"div\");\n\tbar.className = \"editor-statusbar\";\n\n\n\t// Create a new span for each item\n\tfor(i = 0; i < items.length; i++) {\n\t\t// Store in temporary variable\n\t\tvar item = items[i];\n\n\n\t\t// Create span element\n\t\tvar el = document.createElement(\"span\");\n\t\tel.className = item.className;\n\n\n\t\t// Ensure the defaultValue is a function\n\t\tif(typeof item.defaultValue === \"function\") {\n\t\t\titem.defaultValue(el);\n\t\t}\n\n\n\t\t// Ensure the onUpdate is a function\n\t\tif(typeof item.onUpdate === \"function\") {\n\t\t\t// Create a closure around the span of the current action, then execute the onUpdate handler\n\t\t\tthis.codemirror.on(\"update\", (function(el, item) {\n\t\t\t\treturn function() {\n\t\t\t\t\titem.onUpdate(el);\n\t\t\t\t};\n\t\t\t}(el, item)));\n\t\t}\n\n\n\t\t// Append the item to the status bar\n\t\tbar.appendChild(el);\n\t}\n\n\n\t// Insert the status bar into the DOM\n\tvar cmWrapper = this.codemirror.getWrapperElement();\n\tcmWrapper.parentNode.insertBefore(bar, cmWrapper.nextSibling);\n\treturn bar;\n};\n\n/**\n * Get or set the text content.\n */\nSimpleMDE.prototype.value = function(val) {\n\tif(val === undefined) {\n\t\treturn this.codemirror.getValue();\n\t} else {\n\t\tthis.codemirror.getDoc().setValue(val);\n\t\treturn this;\n\t}\n};\n\n\n/**\n * Bind static methods for exports.\n */\nSimpleMDE.toggleBold = toggleBold;\nSimpleMDE.toggleItalic = toggleItalic;\nSimpleMDE.toggleStrikethrough = toggleStrikethrough;\nSimpleMDE.toggleBlockquote = toggleBlockquote;\nSimpleMDE.toggleHeadingSmaller = toggleHeadingSmaller;\nSimpleMDE.toggleHeadingBigger = toggleHeadingBigger;\nSimpleMDE.toggleHeading1 = toggleHeading1;\nSimpleMDE.toggleHeading2 = toggleHeading2;\nSimpleMDE.toggleHeading3 = toggleHeading3;\nSimpleMDE.toggleCodeBlock = toggleCodeBlock;\nSimpleMDE.toggleUnorderedList = toggleUnorderedList;\nSimpleMDE.toggleOrderedList = toggleOrderedList;\nSimpleMDE.cleanBlock = cleanBlock;\nSimpleMDE.drawLink = drawLink;\nSimpleMDE.drawImage = drawImage;\nSimpleMDE.drawTable = drawTable;\nSimpleMDE.drawHorizontalRule = drawHorizontalRule;\nSimpleMDE.undo = undo;\nSimpleMDE.redo = redo;\nSimpleMDE.togglePreview = togglePreview;\nSimpleMDE.toggleSideBySide = toggleSideBySide;\nSimpleMDE.toggleFullScreen = toggleFullScreen;\n\n/**\n * Bind instance methods for exports.\n */\nSimpleMDE.prototype.toggleBold = function() {\n\ttoggleBold(this);\n};\nSimpleMDE.prototype.toggleItalic = function() {\n\ttoggleItalic(this);\n};\nSimpleMDE.prototype.toggleStrikethrough = function() {\n\ttoggleStrikethrough(this);\n};\nSimpleMDE.prototype.toggleBlockquote = function() {\n\ttoggleBlockquote(this);\n};\nSimpleMDE.prototype.toggleHeadingSmaller = function() {\n\ttoggleHeadingSmaller(this);\n};\nSimpleMDE.prototype.toggleHeadingBigger = function() {\n\ttoggleHeadingBigger(this);\n};\nSimpleMDE.prototype.toggleHeading1 = function() {\n\ttoggleHeading1(this);\n};\nSimpleMDE.prototype.toggleHeading2 = function() {\n\ttoggleHeading2(this);\n};\nSimpleMDE.prototype.toggleHeading3 = function() {\n\ttoggleHeading3(this);\n};\nSimpleMDE.prototype.toggleCodeBlock = function() {\n\ttoggleCodeBlock(this);\n};\nSimpleMDE.prototype.toggleUnorderedList = function() {\n\ttoggleUnorderedList(this);\n};\nSimpleMDE.prototype.toggleOrderedList = function() {\n\ttoggleOrderedList(this);\n};\nSimpleMDE.prototype.cleanBlock = function() {\n\tcleanBlock(this);\n};\nSimpleMDE.prototype.drawLink = function() {\n\tdrawLink(this);\n};\nSimpleMDE.prototype.drawImage = function() {\n\tdrawImage(this);\n};\nSimpleMDE.prototype.drawTable = function() {\n\tdrawTable(this);\n};\nSimpleMDE.prototype.drawHorizontalRule = function() {\n\tdrawHorizontalRule(this);\n};\nSimpleMDE.prototype.undo = function() {\n\tundo(this);\n};\nSimpleMDE.prototype.redo = function() {\n\tredo(this);\n};\nSimpleMDE.prototype.togglePreview = function() {\n\ttogglePreview(this);\n};\nSimpleMDE.prototype.toggleSideBySide = function() {\n\ttoggleSideBySide(this);\n};\nSimpleMDE.prototype.toggleFullScreen = function() {\n\ttoggleFullScreen(this);\n};\n\nSimpleMDE.prototype.isPreviewActive = function() {\n\tvar cm = this.codemirror;\n\tvar wrapper = cm.getWrapperElement();\n\tvar preview = wrapper.lastChild;\n\n\treturn /editor-preview-active/.test(preview.className);\n};\n\nSimpleMDE.prototype.isSideBySideActive = function() {\n\tvar cm = this.codemirror;\n\tvar wrapper = cm.getWrapperElement();\n\tvar preview = wrapper.nextSibling;\n\n\treturn /editor-preview-active-side/.test(preview.className);\n};\n\nSimpleMDE.prototype.isFullscreenActive = function() {\n\tvar cm = this.codemirror;\n\n\treturn cm.getOption(\"fullScreen\");\n};\n\nSimpleMDE.prototype.getState = function() {\n\tvar cm = this.codemirror;\n\n\treturn getState(cm);\n};\n\nSimpleMDE.prototype.toTextArea = function() {\n\tvar cm = this.codemirror;\n\tvar wrapper = cm.getWrapperElement();\n\n\tif(wrapper.parentNode) {\n\t\tif(this.gui.toolbar) {\n\t\t\twrapper.parentNode.removeChild(this.gui.toolbar);\n\t\t}\n\t\tif(this.gui.statusbar) {\n\t\t\twrapper.parentNode.removeChild(this.gui.statusbar);\n\t\t}\n\t\tif(this.gui.sideBySide) {\n\t\t\twrapper.parentNode.removeChild(this.gui.sideBySide);\n\t\t}\n\t}\n\n\tcm.toTextArea();\n\n\tif(this.autosaveTimeoutId) {\n\t\tclearTimeout(this.autosaveTimeoutId);\n\t\tthis.autosaveTimeoutId = undefined;\n\t\tthis.clearAutosavedValue();\n\t}\n};\n\nmodule.exports = SimpleMDE;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded Javascript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]}\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n"],"sourceRoot":""}